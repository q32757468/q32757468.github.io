<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ranshan丶</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://q32757468.github.io/"/>
  <updated>2019-06-15T14:15:59.447Z</updated>
  <id>https://q32757468.github.io/</id>
  
  <author>
    <name>hsl</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vue.js的学习（一）</title>
    <link href="https://q32757468.github.io/2019/06/15/vue-js%E7%9A%84%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>https://q32757468.github.io/2019/06/15/vue-js的学习（一）/</id>
    <published>2019-06-15T13:31:48.000Z</published>
    <updated>2019-06-15T14:15:59.447Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近开始学习现在最火的前端开发框架vue.js，这篇博客记录我的学习过程以及学习笔记。<br><a id="more"></a></p></blockquote><h3 id="vue-js的使用"><a href="#vue-js的使用" class="headerlink" title="vue.js的使用"></a>vue.js的使用</h3><p>先去官网下载好vue.js的文件，然后在项目中引入js文件就可以开始使用vue来进行开发了，例如这样：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./../../js/vue.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><p>然后这是一个vue的基本模板：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这是一个普通的块 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-cloak</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./../../js/vue.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> vm=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">'#app'</span>,<span class="comment">// 在vue中对id为app的元素进行操作</span></span></span><br><span class="line"><span class="javascript">        data:&#123;<span class="comment">//这里面写数据</span></span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="javascript">        methods: &#123;<span class="comment">//这里面写各种方法 </span></span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="插值表达式和v-text"><a href="#插值表达式和v-text" class="headerlink" title="插值表达式和v-text"></a>插值表达式和v-text</h3><p>在vue中想要对元素输入数值是非常简单的，不需要通过js或者jQuery拿到对象再通过函数进行传入数据，直接在dom元素中直接通过插值表达式就可以将vue中data中的值给到dom元素中。<br>比如这样：</p><h4 id="通过插值表达式"><a href="#通过插值表达式" class="headerlink" title="通过插值表达式"></a>通过插值表达式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-cloak</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        &#123;&#123;msg&#125;&#125;12314</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">'#app'</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">            <span class="comment">//这里定义一个变量来我们想要的值</span></span><br><span class="line">            msg:<span class="string">'这是一个测试'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;           </span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>我们只需要通过插值表达式将我们创建的vue对象中的data中的变量写到dom元素中就可以将变量渲染出来。</p><p><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/qQYbwi0yWJNzAlWrAIsaadH9epSrbH*kG3HLHHqbIDc!/b/dDIBAAAAAAAA&bo=VgV1AgAAAAADBwY!&rf=viewer_4"></p><p>可以看到我们定义的变量的值成功被渲染出来了</p><blockquote><p>但是注意这样会有一个问题，就是在网速较慢的时候vue.js这个文件就会加载的比较慢，那么插值表达式就不会生效，而是直接将整个表达式当做字符串输出出来，那么这个时候我们可以通过给相应的dom元素加上<code>v-cloak</code>,然后再设置样式<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h4><p>使用<code>v-text</code>也可以将数据渲染到dom元素，但是用法不一样<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">"msg+'123423'"</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>这样就可以实现了插值表达式一样的效果了。</p><blockquote><p>注意：v-text 后面可以通过<code>+</code>来拼接字符串</p></blockquote><h3 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h3><p>这个用法和<code>v-text</code>一致，作用也相似，只是<code>v-html</code>可以解析html标签，但是<code>v-text</code>不能</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"msg+'123423'"</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><p><code>v-bind</code>可以给dom元素绑定属性值</p><p><code>v-bind</code>可以简写成<code>:</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-cloak</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"这是一个按钮"</span> <span class="attr">v-bind:title</span>=<span class="string">"mtitle"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">'#app'</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">            msg:<span class="string">'这是一个测试'</span>,</span><br><span class="line">            mtitle:<span class="string">'这是一个测试'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;           </span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/oWoqza.oQdO.y45D6CeNA*JLzGxuQVGoQebnZ0AN*4M!/b/dLgAAAAAAAAA&bo=7ACBAAAAAAADB08!&rf=viewer_4"><br>可以看到，成功给这个按钮加上了一个我们在vue中定义的title</p><blockquote><p><code>v-bind:title=</code>后面跟的是一个变量，所以后面也是可以拼接字符串的，许多vue中的属性也都是如此</p></blockquote><h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><p><code>v-on</code>与<code>v-bind</code>类似，只不过绑定的不是dom元素的属性，而是各种事件，</p><p><code>v-on</code>可以简写成<code>@</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-cloak</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"mclick"</span>&gt;</span>这又是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#app'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        msg:<span class="string">'这是一个测试'</span>,</span><br><span class="line">        mtitle:<span class="string">'这是一个测试'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        mclick () &#123;</span><br><span class="line">            alert(<span class="string">'单击了这个按钮'</span>);</span><br><span class="line">        &#125;           </span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/Mgh9tbxP89uT9zaEpNevDAzu*KeR5w9asUwwp0IokCM!/b/dLgAAAAAAAAA&bo=DgcsAQAAAAADBwY!&rf=viewer_4"></p><p>可以看到成功触发了我们自己定义的单击事件。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这篇博客记录学习了vue最简单初始的一些东西，一个小小的入门。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;最近开始学习现在最火的前端开发框架vue.js，这篇博客记录我的学习过程以及学习笔记。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Chrome-调试大全</title>
    <link href="https://q32757468.github.io/2019/06/15/Chrome-%E8%B0%83%E8%AF%95%E5%A4%A7%E5%85%A8/"/>
    <id>https://q32757468.github.io/2019/06/15/Chrome-调试大全/</id>
    <published>2019-06-15T04:14:17.000Z</published>
    <updated>2019-06-15T04:27:19.197Z</updated>
    
    <content type="html"><![CDATA[<p></p><h2>引言</h2><p></p><blockquote><p></p><p>原文出处：&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.igeekbar.com/igeekbar/post/156.htm" rel="nofollow" target="_blank">Cayley的编程之路</a></p>“工欲善其事，必先利其器” <br>没错，这句话个人觉得说的特别有道理，举个例子来说吧，厉害的化妆师都有一套非常专业的刷子，散粉刷负责定妆，眼影刷负责打眼影，各司其职，有了专业的工具才能干专业的事，这个灵感要来源于之前我想买化妆品时，店里的海报标语，由此联想到，如果你想在某个事情上做好<a id="more"></a>，并且做的专业，那么你一定要把你的工具用好，这样才能事半功倍，我见过很多师兄师姐，写了很多代码，能够很快的完成工作，能够处理很多复杂的业务逻辑，但是对于浏览器的调试掌握的并不全面和深入，说说本姑娘吧，我的编程调试起源于自学滴前端课程，因为学习的时候看的都是基础的教学视频，对于调试也只是掌握了alert和console, 请大家别笑话，认真看完再说话，试问谁当初入门时候不是走的这条路呢，当你不再限于做静态页面，古老而经典的调试方式肯定不能帮你完成日常调试，日后我进入到了大公司去实习，才真正开始接触专业开发业务，开始跟着师兄和师傅一起上路，那时我才有了“js断点调试“的意识，开始一步步调试我的js代码~<p></p></blockquote><p><br></p><br><hr class="section-divider"><br><p><br></p><p>下面总结一下一些常用调试方法，这些方法能让开发的工作顺利并且高效，这里小女子拿出来总结一下，与各位程序猿同仁分享一下 ~ （此处应有掌声…… ^_^）</p><br><p><br></p><br><h2>一. 先来认识一下这些按钮</h2><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/52af2165-aa3b-41ea-acdf-4c3fb7ba3b27.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/52af2165-aa3b-41ea-acdf-4c3fb7ba3b27.png" class="img-responsive center-block"></a><br></div><br><div><br> <br><br></div><br><div><br> 先来看这张图最上头的一行是一个功能菜单，每一个菜单都有它相应的功能和使用方法，依次从左往右来看<br> <br><br></div><br><p><b>1.箭头按钮</b>：用于在页面选择一个元素来审查和查看它的相关信息，当我们在<b>Elements</b>这个按钮页面下点击某个Dom元素时，箭头按钮会变成选择状态</p><br><p><br></p><br><p><b>2.设备图标</b>：点击它可以切换到不同的终端进行开发模式，移动端和pc端的一个切换，可以选择不同的移动终端设备，同时可以选择不同的尺寸比例，chrome浏览器的模拟移动设备和真实的设备相差不大，是非常好的选择</p><br><p><br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/51d40eb1-3e74-4e27-9583-b3b50f332510.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/51d40eb1-3e74-4e27-9583-b3b50f332510.png" class="img-responsive center-block"></a><br> <div><br>  可选择的适配<br> </div><br></div><br><p><br></p><br><p><b>3.Elements</b>&nbsp;功能标签页：用来查看，修改页面上的元素，包括DOM标签，以及css样式的查看，修改，还有相关盒模型的图形信息，下图我们可以看到当我鼠标选择id 为lg_tar的div元素时，右侧的css样式对应的会展示出此id 的样式信息，此时可以在右侧进行一个修改，修改即可在页面上生效， 灰色的element.style样式同样可以进行添加和书写，唯一的区别是，在这里添加的样式是添加到了该元素内部，实现方式即：该div元素的style属性，这个页面的功能很强大，在我们做了相关的页面后，修改样式是一块很重要的工作，细微的差距都需要调整，但是不可能说做到每修改一点即编译一遍代码，再刷新浏览器查看效果，这样很低效，一次性在浏览器中修改之后，再到代码中进行修改</p><br><p><br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/b548b239-eb00-447d-be60-29c1c3b3ce9b.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/b548b239-eb00-447d-be60-29c1c3b3ce9b.png" class="img-responsive center-block"></a><br></div><br><div><br> <div><br>  <br><br> </div><br> <ul><br>  <li>对应的样式</li><br> </ul><br> <div><br>  <br><br> </div><br></div><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/54802412-70df-4c69-8adb-cea9c52b2b09.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/54802412-70df-4c69-8adb-cea9c52b2b09.png" class="img-responsive center-block"></a><br></div><br><div><br> <br><br> <ul><br>  <li>盒模型信息</li><br> </ul><br></div><br><p>同时，当我们浏览网站看到某些特别炫酷的效果和难做的样式时候，打开这个功能，我们即可看到别人是如何实现的，学会它这知识就是你的了，仔细钻研也会有意想不到的收获</p><br><p><br></p><br><p><b>4.Console控制台</b>：用于打印和输出相关的命令信息，其实console控制台除了我们熟知的报错，打印console.log信息外，还有很多相关的功能，下面简单介绍几个：</p><br><p>a: 一些对页面数据的指令操作，比如打断点正好执行到获取的数据上，由于数据都是层层嵌套的对象，这个时候查看里面的key/value不是很方便，即可用这个指令开查看，obj的json string 格式的key/value，我们对于数据里面有哪些字段和属性即可一目了然</p><br><p><br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/ac4fc806-f29a-44e2-bcf0-95b28c401790.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/ac4fc806-f29a-44e2-bcf0-95b28c401790.png" class="img-responsive center-block"></a><br> <div><br>  其他功能<br> </div><br></div><br><p>b: 除了console.log还有其他相关的指令可用</p><br><p><br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/6e7f7867-9422-4238-a23b-d463e1f799d5.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/6e7f7867-9422-4238-a23b-d463e1f799d5.png" class="img-responsive center-block"></a><br> <div><br>  console也有相关的API<br> </div><br> <div><br>  <br><br> </div><br></div><br><p><b>5.Sources</b>&nbsp;js资源页面：这个页面内我们可以找到当然浏览器页面中的js 源文件，方便我们查看和调试，在我还没有走出校园时候，我经常看一些大站的js代码，那时候其实基本都看不懂，但是最起码可以看看人家的代码风格，人家的命名方式，所有的代码都是压缩之后的代码，我们可以点击下面的{}大括号按钮将代码转成可读格式</p><br><p>Sources Panel 的左侧分别是 Sources 和 Content scripts和Snippets<br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/a147d491-68bd-45d7-8403-6c25ce99201e.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/a147d491-68bd-45d7-8403-6c25ce99201e.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>对应的源代码</li><br> </ul><br></div><br><p><br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/a8e61566-e44e-4a92-95e0-c872cf9a2cbb.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/a8e61566-e44e-4a92-95e0-c872cf9a2cbb.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>格式化后的代码</li><br> </ul><br> <div><br>  <br><br> </div><br></div><br><p>关于打断点调试的内容，下面介绍，先来说一些，其他平时基本没人用但是很有用的小点，比如当我们想不起某个方法的具体使用时候，会打开控制台随意写一些测试代码，或者想测试一下刚刚写的方法是否会出现期待的样子，但是控制台一打回车本想换行但是却执行刚写的半截代码，所以推荐使用<b>Sources</b>下面的左侧的Sinppets代码片段按钮，这时候点击创建一个新的片段文件，写完测试代码后把鼠标放在新建文件上run，再结合控制台查看相关信息（<b>新建了一个名叫：app.js的片段代码，在你的项目环境页面内，该片段可执行项目内的方法</b>）</p><br><p><br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/f56570d0-2ec4-4970-8ba5-c1bf2b8abf2d.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/f56570d0-2ec4-4970-8ba5-c1bf2b8abf2d.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>自己书写的片段</li><br> </ul><br> <div><br>  <br><br> </div><br></div><br><p>Content scripts 是 Chrome 的一种扩展程序，它是按照扩展的ID来组织的，这些文件也是嵌入在页面中的资源，这类文件可以读写和操作我们的资源，需要调试这些扩展文件，则可以在这个目录下打开相关文件调试，但是几乎我们的项目还没有相关的扩展文件，所以啥也看不到，平时也不需要关心这块</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/e93f193c-3bf2-41ef-b300-e199a8a60d27.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/e93f193c-3bf2-41ef-b300-e199a8a60d27.png" class="img-responsive center-block"></a><br> <div><br>  无结果<br> </div><br> <div><br>  <br><br> </div><br></div><br><p><b>6.Network&nbsp;</b>网络请求标签页：可以看到所有的资源请求，包括网络请求，图片资源，html,css，js文件等请求，可以根据需求筛选请求项，一般多用于网络请求的查看和分析，分析后端接口是否正确传输，获取的数据是否准确，请求头，请求参数的查看</p><br><div><br> <div><br>  <a href="http://igeekbar.com/igeekbar/networks/uploadimg/83a9003a-434c-4f11-a7d6-6ce2f5965106.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/83a9003a-434c-4f11-a7d6-6ce2f5965106.png" class="img-responsive center-block"></a><br> </div><br> <ul><br>  <li>所有的资源</li><br> </ul><br> <div><br>  <br><br> </div><br></div><br><p>以上我选择了All，就会把该页面所有资源文件请求下来，如果只选择XHR 异步请求资源，则我们可以分析相关的请求信息</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/a36f5b9e-2e06-4593-9c77-a50d798bc8ea.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/a36f5b9e-2e06-4593-9c77-a50d798bc8ea.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>请求的相关信息</li><br> </ul><br> <div><br>  <br><br> </div><br></div><br><p>打开一个Ajax异步请求，可以看到它的请求头信息，是一个POST请求，参数有哪些，还可以预览它的返回的结果数据，这些数据的使用和查看有利于我们很好的和后端工程师们联调数据，也方便我们前端更直观的分析数据</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/90ebfadd-e79a-4837-9873-5cbb0cd1b0f2.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/90ebfadd-e79a-4837-9873-5cbb0cd1b0f2.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>预览请求的数据</li><br> </ul><br> <div><br>  <br><br> </div><br></div><br><p><b>7.Timeline</b>标签页可以显示JS执行时间、页面元素渲染时间，不做过多介绍</p><br><p><br></p><br><p><b>8.Profiles</b>标签页可以<b>查看</b>CPU执行时间与内存占用，不做过多介绍</p><br><p><br></p><br><p><b>9.Resources</b>标签页会列出所有的资源，以及HTML5的Database和LocalStore等，你可以对存储的内容编辑和删除 不做过多介绍</p><br><p><br></p><br><p><b>10.Security</b>标签页 可以告诉你这个网站的安全性，查看有效的证书等</p><br><p><br></p><br><p><b>11.Audits</b>标签页 可以帮你分析页面性能，有助于优化前端页面，分析后得到的报告</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/2e0393c9-cc86-4a20-905e-3f80154f4f2f.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/2e0393c9-cc86-4a20-905e-3f80154f4f2f.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>分析结果</li><br> </ul><br> <p><br></p><br></div><br><h2>二.Sources资源页面的断点调试</h2><br><p><b>1.如何调试</b>：</p><br><p>调试js代码，肯定是我们常用的功能，那么如何打断点，找到要调试的文件，然后在内容源代码左侧的代码标记行处点击即可打上一个断点<br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/0d2066b5-e10e-4562-b5f7-eef9ff2e9a02.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/0d2066b5-e10e-4562-b5f7-eef9ff2e9a02.png" class="img-responsive center-block"></a><br></div><br><p><b>2.断点与 js代码修改</b></p><br><p>看下面这张图，我在一个名为toggleTab的方法下打了两个断点，当开始执行我们的点击切换tab行为后，代码会在执行的断点出停下来，并把相关的数据展示一部分，此时可以在已经执行过得代码处，把鼠标放上去，即可查看相关的具体数据信息，同时我们可以使用右侧的功能键进行调试，右侧最上面一排分别是：暂停/继续、单步执行(<b>F10快捷键</b>)、单步跳入此执行块(<b>F11快捷键</b>)、单步跳出此执行块、禁用/启用所有断点。下面是各种具体的功能区</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/980c6de1-f378-48c3-90a5-6d865b46881f.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/980c6de1-f378-48c3-90a5-6d865b46881f.png" class="img-responsive center-block"></a><br> <div><br>  <br><br> </div><br> <ul><br>  <li>在代码中打断点</li><br> </ul><br></div><br><p><br></p><br><p>在当前的代码执行区域，在调试中如果发现需要修改的地方，也是可以立即修改的，修改后保存即可生效，这样就免去了再到代码中去书写，再刷新回看了</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/cce6a3d6-e055-43ea-9687-e3f1fa6854cf.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/cce6a3d6-e055-43ea-9687-e3f1fa6854cf.png" class="img-responsive center-block"></a><br></div><br><div><br> <br><br> <div><br>  临时修改<br> </div><br></div><br><p><b><br></b></p><br><p><b>3.快速进入调试的方法</b></p><br><p>当我们的代码执行到某个程序块方法处，这个方法上可能你并没有设置相关的断点，此时你可以F11进入此程序块，但是往往我们的项目都是经过很多源代码封装好的方法，有时候进入后，会走很多底层的封装方法，需要很多步骤才能真正进入这个函数块，此时将鼠标放在此函数上，会出现相关提示，会告诉你在该文件的哪一行代码处，点击即可直接看到这个函数，然后临时打上断点，按F10或者点击右上角的第二个按钮即可直接进入此函数的断点处</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/5130e68e-74c7-4b1a-9a12-7f5e7f5ceb6d.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/5130e68e-74c7-4b1a-9a12-7f5e7f5ceb6d.png" class="img-responsive center-block"></a><br></div><br><p><b><br></b></p><br><p><b>4.调试的功能区域</b></p><br><p>每一个功能区，都有它相关的左右，先来看一张图，它都有哪些功能</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/bdb50caf-0484-47b9-a3ed-ec0aa9d38e67.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/bdb50caf-0484-47b9-a3ed-ec0aa9d38e67.png" class="img-responsive center-block"></a><br></div><br><p><b>Call Stack调用栈</b>：当断点执行到某一程序块处停下来后，右侧调试区的 Call Stack 会显示当前断点所处的方法调用栈，从上到下由最新调用处依次往下排列，Call Stack 列表的下方是Scope Variables列表可以查看此时局部变量和全局变量的值。图中可以看出，我们最先走了toggleTab这个方法，然后走到了一个更新对象的方法上，当前调用在哪里，箭头会帮你指向哪里，同时我们可以点击，调用栈列表上的任意一处，即可回头再去看看代码</p><br><div><br> <a href="/igeekbar/networks/uploadimg/8dd4193f-f723-4597-9633-1c789fbf474b.png"><img src="/igeekbar/networks/uploadimgthumb/8dd4193f-f723-4597-9633-1c789fbf474b.png" class="img-responsive center-block"></a><br></div><br><p>但是若你想从新从某个调用方法出执行，可以右键Restart Frame， 断点就会跳到此处开头重新执行，<b>Scope</b>&nbsp;中的变量值也会依据代码从新更改，这样就可以回退来从新调试，错过的调试也可以回过头来反复查看</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/c7ba0acc-7305-4a55-9790-6bc637922989.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/c7ba0acc-7305-4a55-9790-6bc637922989.png" class="img-responsive center-block"></a><br></div><br><p><b>Breakpoints</b>关于断点：所有当前js的断点都会展示在这个区域，你可以点击按钮用来“去掉/加上”此处断点，也可以点击下方的代码表达式，调到相应的程序代码处，来查看</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/1cd4281f-4170-40e4-8bfa-cc0050af9a53.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/1cd4281f-4170-40e4-8bfa-cc0050af9a53.png" class="img-responsive center-block"></a><br></div><br><p><b>XHR Breakpoints</b></p><br><p>在XHR Breakpoints处，点击右侧的+号，可以添加请求的URL，一旦 XHR 调用触发时就会在 request.send() 的地方中断</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/238a0267-dbd8-4dd3-8598-b09895b5694e.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/238a0267-dbd8-4dd3-8598-b09895b5694e.png" class="img-responsive center-block"></a><br></div><br><p><b>DOM Breakpoints:</b></p><br><p>可以给你的DOM元素设置断点，有时候真的需要监听和查看某个元素的变化情况，赋值情况，但是我们并是不太关心哪一段代码对它做的修改，只想看看它的变化情况，那么可以给它来个监听事件，这个时候DOM Breakpoints中会如图</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/da1c5b48-42db-4d5f-8a24-19389fa858f0.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/da1c5b48-42db-4d5f-8a24-19389fa858f0.png" class="img-responsive center-block"></a><br></div><br><p>当要给DOM添加断点的时候，会出现选择项分别是如下三种修改1.子节点修改2.自身属性修改3.自身节点被删除。选中之后，Sources Panel 中右侧的 DOM Breakpoints 列表中就会出现该 DOM 断点。一旦执行到要对该 DOM 做相应修改时，代码就会在那里停下来</p><br><p><b>Event listener Breakpoints&nbsp;</b></p><br><p>最后Event Listener 列表，这里列出了各种可能的事件类型。勾选对应的事件类型，当触发了该类型的事件的 JavaScript 代码时就会自动中断</p><br><p><br></p><br><h2>三.Post man你值得拥有的网络请求神器</h2><br><p>在我们的开发过程中，后端的接口都是由发起AJAX请求而获取到的相关数据，但是很多情况是我们的业务还没有做到那块时，后端的同学接口都已经准备好了，但是为了便于后期的工作，将接口请求的数据模拟访问，然后对接口联调很重要，也很方便，因为我们不可能把每个请求代码都写到文件里编译好了再去浏览器内查看，这时候可以安装一个post man网络请求插件，在谷歌应用商店下载，需要翻墙<br></p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/eea9dc12-f18e-4ccc-9998-b34f4f367ce1.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/eea9dc12-f18e-4ccc-9998-b34f4f367ce1.png" class="img-responsive center-block"></a><br></div><br><p>该扩展程序使用非常简单，功能同时也非常强大，输入你的请求，选择好请求的method，需要请求参数的挨个填好，send之后，就可以看到返回的数据，这个小工具很利于我们的开发</p><br><div><br> <a href="http://igeekbar.com/igeekbar/networks/uploadimg/48b702eb-7a24-4fa9-aa52-bcc8b97c8fbd.png" target="_blank" rel="noopener"><img src="http://igeekbar.com/igeekbar/networks/uploadimgthumb/48b702eb-7a24-4fa9-aa52-bcc8b97c8fbd.png" class="img-responsive center-block"></a><br></div><br><h2>完结</h2><br><p>写到这里这篇总结就结束了，也许有很多写的不到位的地方，也有一些专业用词不严谨的地方，希望看到的读者可以和我一起交流，我也非常乐意我的总结可以给 刚刚学会编程需要调试的同学受用，再此之前我一直在寻找一篇从头到尾的调试教学文章，我一直没有找到，要么是一点点的片段讲解，要么是专讲js断点调试，所以索性后来就直接看了 Chrome Developer Tools 的英文官方文档，并结合自己的一些小使用心得总结出此文，希望受到指点和修正 也希望可以帮助一些同学~</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;/p&gt;&lt;h2&gt;引言&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;/p&gt;&lt;p&gt;原文出处：&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;http://www.igeekbar.com/igeekbar/post/156.htm&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot;&gt;Cayley的编程之路&lt;/a&gt;&lt;/p&gt;“工欲善其事，必先利其器” &lt;br&gt;没错，这句话个人觉得说的特别有道理，举个例子来说吧，厉害的化妆师都有一套非常专业的刷子，散粉刷负责定妆，眼影刷负责打眼影，各司其职，有了专业的工具才能干专业的事，这个灵感要来源于之前我想买化妆品时，店里的海报标语，由此联想到，如果你想在某个事情上做好
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Bootstrap4与Bootstrap3的区别</title>
    <link href="https://q32757468.github.io/2019/06/14/Bootstrap4%E4%B8%8EBootstrap3%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>https://q32757468.github.io/2019/06/14/Bootstrap4与Bootstrap3的区别/</id>
    <published>2019-06-14T09:24:35.000Z</published>
    <updated>2019-06-14T11:46:21.413Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;刚接触bootstrap是学习的b3，但是b4已经出来了有一段时间了，而且试过b4之后我更加的喜欢b4，因为二者之间还是有很多差别的，所以这里介绍一下二者的差别。<br><a id="more"></a></p></blockquote><h3 id="Bootstrap4特点"><a href="#Bootstrap4特点" class="headerlink" title="Bootstrap4特点"></a>Bootstrap4特点</h3><ol><li>新增网格层适配了移动端；</li><li>全面引入ES6新特性（重写所有JavaScript插件）；</li><li>css文件减少了至少40%；</li><li>所有文档都用Markdown编辑器重写；</li><li>放弃对IE8的支持</li></ol><table><thead><tr><th align="left">Bootstrap3</th><th align="left">Bootstrap4</th></tr></thead><tbody><tr><td align="left">Less</td><td align="left">Sass语言编写</td></tr><tr><td align="left">4种栅格类</td><td align="left">5种栅格类</td></tr><tr><td align="left">使用px为单位</td><td align="left">使用rem和em为单位（除部分margin和padding使用px）</td></tr><tr><td align="left">使用push和pull向左右移动</td><td align="left">偏移列通过offset-类设置</td></tr><tr><td align="left">使用float的布局方式</td><td align="left">选择弹性盒模型（flexbox）</td></tr></tbody></table><h3 id="栅格系统方面的区别"><a href="#栅格系统方面的区别" class="headerlink" title="栅格系统方面的区别"></a>栅格系统方面的区别</h3><h4 id="Bootstrap3的4种栅格："><a href="#Bootstrap3的4种栅格：" class="headerlink" title="Bootstrap3的4种栅格："></a>Bootstrap3的4种栅格：</h4><ul><li>特小（col-xs-） 适配手机(&lt;768px)</li><li>小（col-sm-） 适配平板(≥768px)</li><li>中（col-md-） 适配电脑(≥992px)</li><li>大（col-lg-） 适配宽屏电脑(≥1200px)</li></ul><h5 id="Bootstrap4的5种栅格："><a href="#Bootstrap4的5种栅格：" class="headerlink" title="Bootstrap4的5种栅格："></a>Bootstrap4的5种栅格：</h5><ul><li>特小（col-）(&lt;576px)</li><li>小（col-sm-）(≥576px)</li><li>中（col-md-）(≥768px)</li><li>大（col-lg-） (≥992px)</li><li>特大（col-xl-）（≥1200px）</li></ul><h3 id="一些类方面的区别"><a href="#一些类方面的区别" class="headerlink" title="一些类方面的区别"></a>一些类方面的区别</h3><h4 id="img-circle与新版本中的rounded-circle"><a href="#img-circle与新版本中的rounded-circle" class="headerlink" title="img-circle与新版本中的rounded-circle"></a>img-circle与新版本中的rounded-circle</h4><p>老版本中<code>img-circle</code>只对图片 而新版本中<code>rounded-circle</code>对所有元素全部生效</p><h4 id="媒体对象"><a href="#媒体对象" class="headerlink" title="媒体对象"></a>媒体对象</h4><p>去除了<code>media-left</code> <code>media-right</code> 只有<code>media-body</code> 在其中会自适应 在body前写一个图片即使left,在body之后便是right</p><h4 id="display系列-偏移-外边距-内边距"><a href="#display系列-偏移-外边距-内边距" class="headerlink" title="display系列 / 偏移 / 外边距 / 内边距"></a>display系列 / 偏移 / 外边距 / 内边距</h4><ul><li>用<code>d-xx</code>来设置display属性</li><li>偏移 不再使用 <code>col-[尺寸]-offset-[x]</code> 而是 <code>offset-[尺寸]-[x]</code></li><li>内外边距可以使用<code>m-5</code>这种方式来书写例如：<code>ml-3</code> <code>pt-4</code></li></ul><h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><p><code>badge-[]</code> 对应 bs3 label<br>可以设置<code>outline</code>比如<code>btn-outline-success</code></p><h4 id="新增flex类"><a href="#新增flex类" class="headerlink" title="新增flex类"></a>新增flex类</h4><p>可以通过类来设置flex，名称与css样式的属性相同</p><h3 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h3><p>这是bs3的tabs导航栏<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav nav-tabs"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Profile<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Messages<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>bs4是这样写：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav nav-tabs"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"nav-link active"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Item 1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"nav-link disabled"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">tabindex</span>=<span class="string">"-1"</span> <span class="attr">aria-disabled</span>=<span class="string">"true"</span>&gt;</span>Item 2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>可以看出导航的内容中不再需要添加<code>role=&quot;presentation&quot;</code>，并且bs4中使用<code>nav-item</code>来规定导航中的内容</p><p>导航栏中使用<code>mr-auto</code> <code>ml-auto</code> <code>m-auto</code> 来使导航栏中的内容居左/右/中</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;刚接触bootstrap是学习的b3，但是b4已经出来了有一段时间了，而且试过b4之后我更加的喜欢b4，因为二者之间还是有很多差别的，所以这里介绍一下二者的差别。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Bootstrap的学习与使用</title>
    <link href="https://q32757468.github.io/2019/06/13/Bootstrap%E7%9A%84%E5%AD%A6%E4%B9%A0%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
    <id>https://q32757468.github.io/2019/06/13/Bootstrap的学习与使用/</id>
    <published>2019-06-13T12:15:34.000Z</published>
    <updated>2019-06-14T09:20:08.959Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;其实学习bootstrap是在写这篇博客很久之前的事情了，但是由于一些其他的很多事情，就没有第一时间写这篇博客，记录关于bootstrap中学习的一些事情。现在来写一下。bootstrap作为现在非常流行的响应式框架，必然是要学习的，起初我对bootstrap的了解并不是很多，只知道这算是一个框架，然后我就在网上看视频跟着学，然后等学习完了就清楚了，bootstrap其实是一个前端的css库，通过调用各种css演示可以很轻松的将一个响应式的网站给搭建起来，其实最另我没有想到的是使用bootstrap框架开发竟然如此便捷，甚至可以几乎不用自己写一点的css演示就可以有一个漂亮美观的页面，其实bootstrap要学的东西不多，大部分在<a href="https://www.bootcss.com/" target="_blank" rel="noopener">文档</a>中找到相应的使用方法就会用了,这篇博客记录一下我在学习之初所做的一些笔记。<br><a id="more"></a></p></blockquote><h3 id="字体图标的使用"><a href="#字体图标的使用" class="headerlink" title="字体图标的使用"></a>字体图标的使用</h3><ul><li>bootstrap中有许多的字体图标，但是数量也是有限的，所以我们需要一些自定义的字体图标，图标网站有很多，我比较喜欢去<a href="https://www.iconfont.cn" target="_blank" rel="noopener">阿里矢量图标库找</a></li><li>参考阿里矢量图标库给的使用文档所提供的三种使用图标的方法：</li></ul><h4 id="第一种：Unicode-引用"><a href="#第一种：Unicode-引用" class="headerlink" title="第一种：Unicode 引用"></a>第一种：Unicode 引用</h4><p>Unicode 是字体在网页端最原始的应用方式，特点是：</p><ul><li>兼容性最好，支持 IE6+，及所有现代浏览器。</li><li>支持按字体的方式去动态调整图标大小，颜色等等。</li><li>但是因为是字体，所以不支持多色。只能使用平台里单色的图标，就算项目里有多色图标也会自动去色。<blockquote><p>注意：新版 iconfont 支持多色图标，这些多色图标在 Unicode 模式下将不能使用，如果有需求建议使用symbol 的引用方式</p></blockquote></li></ul><p>Unicode 使用步骤如下：</p><p>第一步：拷贝项目下面生成的 @font-face<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'iconfont.eot'</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'iconfont.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span><br><span class="line">      <span class="built_in">url</span>(<span class="string">'iconfont.woff2'</span>) <span class="built_in">format</span>(<span class="string">'woff2'</span>),</span><br><span class="line">      <span class="built_in">url</span>(<span class="string">'iconfont.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span><br><span class="line">      <span class="built_in">url</span>(<span class="string">'iconfont.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span><br><span class="line">      <span class="built_in">url</span>(<span class="string">'iconfont.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>第二步：定义使用 iconfont 的样式<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"iconfont"</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">  <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>第三步：挑选相应图标并获取字体编码，应用于页面<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"iconfont"</span>&gt;</span>&amp;#x33;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p>“iconfont” 是你项目下的 font-family。可以通过编辑项目查看，默认是 “iconfont”。</p></blockquote><h4 id="第二种：font-class-引用"><a href="#第二种：font-class-引用" class="headerlink" title="第二种：font-class 引用"></a>第二种：font-class 引用</h4><p>font-class 是 Unicode 使用方式的一种变种，主要是解决 Unicode 书写不直观，语意不明确的问题。</p><p>与 Unicode 使用方式相比，具有如下特点：</p><ul><li>兼容性良好，支持 IE8+，及所有现代浏览器。</li><li>相比于 Unicode 语意明确，书写更直观。可以很容易分辨这个 icon 是什么。</li><li>因为使用 class 来定义图标，所以当要替换图标时，只需要修改 class 里面的 Unicode 引用。</li><li>不过因为本质上还是使用的字体，所以多色图标还是不支持的。<br>使用步骤如下：</li></ul><p>第一步：引入项目下面生成的 fontclass 代码：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel="stylesheet" href="./iconfont.css"&gt;</span><br></pre></td></tr></table></figure></p><p>第二步：挑选相应图标并获取类名，应用于页面：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"iconfont icon-xxx"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p>“ iconfont” 是你项目下的 font-family。可以通过编辑项目查看，默认是 “iconfont”。</p></blockquote><h4 id="第三种：Symbol-引用"><a href="#第三种：Symbol-引用" class="headerlink" title="第三种：Symbol 引用"></a>第三种：Symbol 引用</h4><p>这是一种全新的使用方式，应该说这才是未来的主流，也是平台目前推荐的用法。相关介绍可以参考这篇文章 这种用法其实是做了一个 SVG 的集合，与另外两种相比具有如下特点：</p><ul><li>支持多色图标了，不再受单色限制。</li><li>通过一些技巧，支持像字体那样，通过 font-size, color 来调整样式。</li><li>兼容性较差，支持 IE9+，及现代浏览器。</li><li>浏览器渲染 SVG 的性能一般，还不如 png。<br>使用步骤如下：</li></ul><p>第一步：引入项目下面生成的 symbol 代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./iconfont.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>第二步：加入通用 CSS 代码（引入一次就行）：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">  <span class="attribute">fill</span>: currentColor;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>第三步：挑选相应图标并获取类名，应用于页面：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;</span><br><span class="line">  &lt;use xlink:href=&quot;#icon-xxx&quot;&gt;&lt;/use&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></p><p>这里用第二种方法与第三种方法做一个演示：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/9VaJWjOEu1kDCMcQ6.weozBu0ZKwqIpi6.AZtmjQMZw!/b/dL4AAAAAAAAA&bo=LQF3AAAAAAADB3k!&rf=viewer_4"><br>可以看到无论用哪种方法都能成功使用到字体图标，既然symbol的方法使未来趋势那就尽量多使用symbol吧，毕竟这种方式还可以支持多色图标</p><blockquote><p>有一件事情要注意，就是在最开始的时候我通过symbol方式去设置图标的颜色发现并不成功，后面查阅资料后发现是因为当我在下载图标代码的时候这个图标本身使带有颜色的，这里有两种办法：</p><ol><li>打开js文件，将<code>fill=&quot;#......&quot;</code>删除。</li><li>到iconfont.cn上，全选项目中的文件，应用批量操作–&gt;批量去色</li></ol></blockquote><p>当然啦，还有其他的特别多的图标库，像font awesome这种专门为bootstrap设计的之类的，看个人喜好用什么，这里就介绍了引用阿里矢量图标库中的图标</p><h3 id="选项卡的适配"><a href="#选项卡的适配" class="headerlink" title="选项卡的适配"></a>选项卡的适配</h3><ul><li><p>当页面的宽度缩小到一定的程度的时候，选项卡中的选项就会换行，有时这不是我们想要的效果，我们想要的效果是当所有选项的宽度之和大于外部的宽度的时候它就会出现一个横向的滚动条</p></li><li><p>那我们就可以通过<code>overfow ：auto</code>来实现，但是只设置<code>overflow</code>很显然是不能达到这种效果的，因为这个时候当我们把页面的宽度缩小选项卡的头部会进行换行</p></li><li><p>所以我们还需要使它不进行换行，因为b4相较于b3进行了重写，不再使用float布局而是使用flex布局，所以我们可以通过flex来进行设置不换行，先设置为flex布局，再设置为不换行，这时候就实现了我们想要的效果</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    a &#123;</span></span><br><span class="line"><span class="undefined">        padding-right: 100px !important;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.nav-tabs</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/* width: 400px; */</span></span></span><br><span class="line"><span class="undefined">        padding-bottom: 1px;</span></span><br><span class="line"><span class="undefined">        margin-top: 0;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav nav-tabs d-flex overflow-auto flex-nowrap"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"nav-link active"</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"nav-link"</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item disabled"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"nav-link"</span>&gt;</span>Disabled<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"nav-link active"</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>再来看一下实现的效果：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/Xs6hPal3O3QBEACXAhSkQsqvigd0aU4LQk*D937SLas!/b/dD4BAAAAAAAA&bo=twJvAAAAAAADB*g!&rf=viewer_4"><br>成功实现效果！</p><h3 id="一些小笔记"><a href="#一些小笔记" class="headerlink" title="一些小笔记"></a>一些小笔记</h3><ul><li><p><strong>bootstrap自适应的底层是用媒体查询做的</strong><br>通过媒体查询来定义不同分辨率下容器的不同宽度，以及栅栏系统的宽度。</p></li><li><p><strong>bootstrap是组件化开发，有很多的组件可以使用，包括像各种定义好样式的按钮，各种按钮可以用<a href="http://blog.koalite.com/bbg/" target="_blank" rel="noopener">bbg</a>来生成。</strong></p></li><li><p><strong>bootstrap中的容器</strong><br>container与container-fluid的作用就是当成一个容器，这个容器自带了响应式的布局。这两个容器的区别就是一个是固定的宽度，一个是百分之百的宽度，container用的比较多.<br>container拥有15px的左右内边距，可以用row来抵消。</p></li><li><p><strong>多套轮播图的处理</strong><br>在响应式的布局中可能会有两套轮播图，一套显示在pc端，一套显示在手机端，pc端的图片用背景图来处理，只显示中间的那一部分，只有在宽度在拉长的时候会把边上的纯色部分显示出来<br>处理方式是通过 background:no-repeat center center 来将背景图片居中<br>然后通过background-size:cover来让图片显示<br>HTML元素自定义属性的方法是通过data来设置，比如设置 data-name=”hsl” 属性，<br>然后通过jQuery中的data(“name”)就可以拿到我们想要的数据，<br>然后通过 data(“name”,”sss”)就可以设置属性<br>然后就可以通过这种方法来给标签设置属性，再通过jQuery动态的设置图片</p></li><li><p><strong>在bootstrap中有很多的全局样式，能用bootstrap自带的样式就用自带的（比如颜色）</strong></p></li><li><p><strong>补充一个css样式的用法，设置背景颜色可以设置trans什么的来继承父级的颜色</strong></p></li><li><p><strong>使用bootstrap的时候，在布局的时候主要是使用栅格系统，就可以很轻松的将一大块内容分割成我们想要的部分。</strong></p></li><li><p><strong>bootstrap中的徽章可以用来做圆角边框并且自带颜色</strong></p></li><li><p><strong>bootstrap中的媒体对象可以用来处理图片加文字的并排情况</strong></p></li><li><p><strong>在容器栅格布局中尽量不要使用margin，而是使用padding，因为本身12份已经占满了，没有多余的空间来设置margin</strong></p></li><li><p><strong>使用栅栏系统的时候当满了12列，剩下的就会换行，比如有4个col-md-6,那么这里就会占满两行。</strong></p></li><li><p><strong>栅格系统中的内容居中的方法有很多，比如可以用<code>text-align</code>或者是flex布局，对于图片来说的话可以使用<code>margin auto</code> 来设置要注意的一点是图片是一个行内元素，不能直接设置上下边距，如果要设置则需要将其设置为块级元素或者是行内块级元素</strong></p></li><li><p><strong>如果要给整块内容添加超链接直接在内容最外层添加a标签即可</strong></p></li><li><p><strong>在很多时候可以不用设置高度，而是可以直接通过设置padding值来让内容撑开</strong></p></li><li><p><strong>在使用bootstrap进行响应式开发的时候一定要注意最外层应该不要设置固定高度，否则在自适应的时候可能会出现问题</strong></p></li><li><p><strong>通过full-left可以将本来占一行的元素浮动到一行,b4中使用<code>offset-</code>来设置向左或是向右，通过设置display为inline-block也能实现这样的效果</strong></p></li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>学习总结是一个漫长的过程，这篇博客还会持续记录一些问题。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;其实学习bootstrap是在写这篇博客很久之前的事情了，但是由于一些其他的很多事情，就没有第一时间写这篇博客，记录关于bootstrap中学习的一些事情。现在来写一下。bootstrap作为现在非常流行的响应式框架，必然是要学习的，起初我对bootstrap的了解并不是很多，只知道这算是一个框架，然后我就在网上看视频跟着学，然后等学习完了就清楚了，bootstrap其实是一个前端的css库，通过调用各种css演示可以很轻松的将一个响应式的网站给搭建起来，其实最另我没有想到的是使用bootstrap框架开发竟然如此便捷，甚至可以几乎不用自己写一点的css演示就可以有一个漂亮美观的页面，其实bootstrap要学的东西不多，大部分在&lt;a href=&quot;https://www.bootcss.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;文档&lt;/a&gt;中找到相应的使用方法就会用了,这篇博客记录一下我在学习之初所做的一些笔记。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Echarts中响应式的完善</title>
    <link href="https://q32757468.github.io/2019/06/13/echarts%E4%B8%AD%E5%93%8D%E5%BA%94%E5%BC%8F%E7%9A%84%E5%AE%8C%E5%96%84/"/>
    <id>https://q32757468.github.io/2019/06/13/echarts中响应式的完善/</id>
    <published>2019-06-13T07:28:40.000Z</published>
    <updated>2019-06-13T12:13:25.283Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前面在学习echarts的时候，发现echarts中是自带响应式的功能的，但是这个响应式的功能和我之前学习的bootstrap有很大的区别，bootstrap中的响应式是会随着网页大小的改变而动态的改变网页的布局以及大小，但是echarts中的响应式虽然也是响应式，但是却没有bootstrap中那样的动态能力，只能是在网页加载或者刷新的时候网页的大小是多大就渲染相应的布局以及大小，虽然也能实现响应式的功能，但是我觉得这在bootstrap中使用的话会很不协调，所以我决定进行一些调整，让echarts中的响应式也能像bootstrap中那样。<br><a id="more"></a></p></blockquote><h3 id="开始构建思路"><a href="#开始构建思路" class="headerlink" title="开始构建思路"></a>开始构建思路</h3><p>起初我以为echarts中的响应式也会像bootstrap中的那样，因为在官网的演示的例子当中就能实现类似的效果，但是我后面发现，那只是官方为了方便演示而加了那样的功能，但是实际上是没有那样的效果的，我开始打算是按照自己的思路写，但是发现遇到很多问题，以及不知道echarts中的定位的实现机制是怎么样的，后面我就查看了一下官方给的示例中的一些代码的变化，随后推断出echarts中的百分比居中是通过对canvas画布的宽度来进行居中的，其他定位也是类似，所以就应该动态的变化canvas画布的宽度以及他父级的宽度，那么就按照这个思路来实现一下吧。</p><h3 id="直接看结果"><a href="#直接看结果" class="headerlink" title="直接看结果"></a>直接看结果</h3><ul><li><p>这一部分是用来控制响应式的代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).resize(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 先获取到页面中和画布部分有关的元素</span></span><br><span class="line">            <span class="comment">// 以及要拿到响应式父级的宽度，并将画布也设置成一样的宽度</span></span><br><span class="line">            <span class="keyword">var</span> $tw=$(<span class="string">'#test'</span>).width();            </span><br><span class="line">            <span class="keyword">var</span> $fc=$(<span class="string">'#test&gt;div:first'</span>);           </span><br><span class="line">            <span class="keyword">var</span> $canvas=$fc.children(<span class="number">0</span>);</span><br><span class="line">            $fc.css(&#123;</span><br><span class="line">                <span class="string">"width"</span>:$tw+<span class="string">'px'</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">            $canvas.css(&#123;</span><br><span class="line">                <span class="string">"width"</span>:$tw+<span class="string">'px'</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">            $canvas.attr(&#123;</span><br><span class="line">              <span class="string">"width"</span>:$tw*<span class="number">1.25</span>,  </span><br><span class="line">            &#125;)   </span><br><span class="line">            <span class="comment">// 然后随着窗口大小的变化去设置图表内容的位置       </span></span><br><span class="line">            $mychart.setOption(&#123;</span><br><span class="line">                media:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        query:&#123;</span><br><span class="line">                            <span class="comment">// maxWidth: 690</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        option:&#123;</span><br><span class="line">                            series:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        type:<span class="string">'pie'</span>,</span><br><span class="line">                        <span class="comment">// 这里最好用宽度乘小数来表示，到时候转化为百分比的时候比较方便</span></span><br><span class="line">                        center:[$tw*<span class="number">0.5</span>,<span class="string">"50%"</span>]</span><br><span class="line">                    &#125;,        </span><br><span class="line">                ],</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                ]</span><br><span class="line">            &#125;);</span><br><span class="line">            </span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure></li><li><p>这一部分是echarts配置部分的代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $mychart = echarts.init($(<span class="string">'#test'</span>)[<span class="number">0</span>]);                            </span><br><span class="line">        <span class="keyword">var</span> option=&#123;</span><br><span class="line">            baseOption:&#123;</span><br><span class="line">                legend:&#123;&#125;,</span><br><span class="line">                tooltip:&#123;&#125;,</span><br><span class="line">                dataset:&#123;</span><br><span class="line">                    source:[</span><br><span class="line">                            [<span class="string">'物品'</span>, <span class="string">'销量1'</span>, <span class="string">'销量2'</span>],</span><br><span class="line">                            [<span class="string">"衬衫"</span>, <span class="string">'5'</span>, <span class="string">'20'</span>],</span><br><span class="line">                            [<span class="string">'羊毛衫'</span>, <span class="string">'30'</span>, <span class="string">'40'</span>],</span><br><span class="line">                            [<span class="string">'袜子'</span>, <span class="string">'60'</span>, <span class="string">'80'</span>],</span><br><span class="line">                            [<span class="string">'裤子'</span>, <span class="string">'60'</span>, <span class="string">'50'</span>]</span><br><span class="line">                        ]</span><br><span class="line">                &#125;,</span><br><span class="line">                series:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        type:<span class="string">'pie'</span>,</span><br><span class="line">                        <span class="comment">// center:['50%','50%']</span></span><br><span class="line"></span><br><span class="line">                    &#125;,</span><br><span class="line">                    </span><br><span class="line">                ],</span><br><span class="line">                &#125;,</span><br><span class="line">                media:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        query:&#123;</span><br><span class="line">                            <span class="comment">// maxWidth: 690</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        option:&#123;</span><br><span class="line">                            legend:&#123;</span><br><span class="line">                            left: ($tw<span class="number">-280</span>)*<span class="number">0.5</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                            series:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        type:<span class="string">'pie'</span>,</span><br><span class="line">                        center:[<span class="string">'50%'</span>,<span class="string">'50%'</span>]</span><br><span class="line"></span><br><span class="line">                    &#125;,</span><br><span class="line">                    </span><br><span class="line">                ],</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                ]</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $mychart.setOption(option);</span><br></pre></td></tr></table></figure></li></ul><p>这里可以直接先引入响应式部分的代码，再写配置部分的代码。</p><h3 id="我所遇到的坑"><a href="#我所遇到的坑" class="headerlink" title="我所遇到的坑"></a>我所遇到的坑</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在一开始的时候我无从下手，因为没有接触过类似的东西，但是我想了一整天慢慢的整明白了，大概意思就是这他的位置是在生成的时候就固定住了，想要改变就必须通过动态的去设置他的位置，就需要用到resize方法。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当时我遇到的第一个比较大的坑就时在我设置canvas宽度的时候我发现好像直接修改<code>style</code>里面的<code>width</code>会导致画布里面的内容失真，使得我在很长一段时间内认为不应该从这里下手，直到我查看了官方示例的代码里的元素变化情况之后我才发现原来是canvas画布本身其实还有一个<code>width</code>属性,且这个属性的值基本上是恒等于<code>style</code>里面的那个的<strong>1.25倍</strong>，那么真相就大白了，我又开始从这方面着手了。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当时我遇到的第二个比较大的坑就是我认为我只要动态的改变容器的宽度以及canvas画布的宽度，然后再把图表设置为居中或者将<code>center:[&#39;50%&#39;,&#39;50%&#39;]</code>就可以实现一直居中了，后面经过测试没有效果，百思不得其解，不知道我是哪里出了问题，以为是不是哪里写错了，后面我把百分比的位置改为固定的位置之后就发现其实是可以变化的，那么我就推测其实他里面的百分比的位置所算的宽度并不是当前容器或者canvas的宽度，而是在画布生成时就已经固定了，所以我就改成了我现在所用的这种方法。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;虽然成功的实现了我想要的效果，但是还是感觉不是很满意，还应该继续封装以便重复调用，并且解决这个问题花的时间有点多，思维还是不够灵敏，要继续努力。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;前面在学习echarts的时候，发现echarts中是自带响应式的功能的，但是这个响应式的功能和我之前学习的bootstrap有很大的区别，bootstrap中的响应式是会随着网页大小的改变而动态的改变网页的布局以及大小，但是echarts中的响应式虽然也是响应式，但是却没有bootstrap中那样的动态能力，只能是在网页加载或者刷新的时候网页的大小是多大就渲染相应的布局以及大小，虽然也能实现响应式的功能，但是我觉得这在bootstrap中使用的话会很不协调，所以我决定进行一些调整，让echarts中的响应式也能像bootstrap中那样。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Echarts.js的学习</title>
    <link href="https://q32757468.github.io/2019/06/08/%E5%85%B3%E4%BA%8Eecharts-js%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://q32757468.github.io/2019/06/08/关于echarts-js的使用/</id>
    <published>2019-06-08T14:03:53.000Z</published>
    <updated>2019-06-13T10:50:26.371Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近在做期末的课程设计的时候需要做一个后台管理界面，所以需要用到一些图标插件，经过搜索我发现有好多的图标插件，最终我决定要使用echarts.js，其中一个很重要的原因就是它是有国内的百度的团队主导开发的一个项目，所以有中文文档，方便我查阅，文档查阅请看<a href="https://echarts.baidu.com" target="_blank" rel="noopener">这里</a><br><a id="more"></a></p></blockquote><h3 id="快速上手echarts-js"><a href="#快速上手echarts-js" class="headerlink" title="快速上手echarts.js"></a>快速上手echarts.js</h3><p>根据官方文档，上手使用echarts.js首先需要先引入js文件，js文件可是直接在官方网站直接下载，在引入js文件之后我们就可以开始使用了，使用之前我们要先创建一个容器，例如：<br><code>&lt;div class=&quot;container&quot; id=&quot;test&quot; style=&quot;height: 400px;&quot;&gt;</code><br>接着之后的就是进行初始化，<br><code>var $mychart=echarts.init($(&#39;#test&#39;)[0]);</code><br><strong>注意，因为我这里是在jQuery中进行初始化的，但是自带的初始化方法必须传一个原生js对象，所以需要将jQuery对象转化为js对象</strong></p><p>然后就可以开始制作图标了：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $mychart=echarts.init($(<span class="string">'#test'</span>)[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">var</span> option=&#123;</span><br><span class="line">            title:&#123;</span><br><span class="line">                text:<span class="string">'这是一个测试的图表'</span>  <span class="comment">//这是图表的标题</span></span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip:&#123;&#125;,</span><br><span class="line">            legend:&#123;</span><br><span class="line">                data:[<span class="string">'销量'</span>]  <span class="comment">//这个是告诉你表格上所有的数据的类型的那种，也就是右上角的那种东西，现在先这么理解好了，到时候查了文档再详细介绍。</span></span><br><span class="line">            &#125;,</span><br><span class="line">            xAxis:&#123;</span><br><span class="line">                data:[<span class="string">"衬衫"</span>,<span class="string">"羊毛衫"</span>,<span class="string">"袜子"</span>]  <span class="comment">//这个是x轴坐标，也就是横坐标的值</span></span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis:&#123;&#125;,</span><br><span class="line">            series:[&#123;</span><br><span class="line">                name:<span class="string">'销量'</span>,</span><br><span class="line">                type:<span class="string">'bar'</span>,</span><br><span class="line">                data:[<span class="number">5</span>,<span class="number">30</span>,<span class="number">60</span>] <span class="comment">//这里是第一个系列的值</span></span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;;</span><br><span class="line">        $mychart.setOption(option); <span class="comment">//将图表的设置应用</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></p><p>然后来看一下效果：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/modlggoXIDSu1a2S0dKlFgZtosSITXM1BmkHMFKwD8w!/b/dMAAAAAAAAAA&bo=gAcSBAAAAAADB7M!&rf=viewer_4"></p><h3 id="再来看看一个官方文档中给出的一个南丁格尔图"><a href="#再来看看一个官方文档中给出的一个南丁格尔图" class="headerlink" title="再来看看一个官方文档中给出的一个南丁格尔图"></a>再来看看一个官方文档中给出的一个南丁格尔图</h3><p>我通过官方给出的在线编辑工具，一个个试了一下都是什么作用<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    backgroundColor: <span class="string">'#2c343c'</span>, <span class="comment">//这个是设置整个图表的背景颜色的。</span></span><br><span class="line">    visualMap: &#123;       <span class="comment">//通过visualmap组件来进行明暗度的映射达到一种有层次感的感觉</span></span><br><span class="line">        show: <span class="literal">false</span>,  <span class="comment">//将这个设置为true的话就会出来一个可以选择的小柱子</span></span><br><span class="line">        min: <span class="number">60</span>,     <span class="comment">//南丁格尔图每个区域的颜色过渡的最小值</span></span><br><span class="line">        max: <span class="number">600</span>,   <span class="comment">//南丁格尔图每个区域颜色过渡的最大值</span></span><br><span class="line">        inRange: &#123;</span><br><span class="line">            colorLightness: [<span class="number">0</span>, <span class="number">1</span>] <span class="comment">//设置整个南丁格尔图的颜色的亮度</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    series : [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'访问来源'</span>,</span><br><span class="line">            type: <span class="string">'pie'</span>,  </span><br><span class="line">            radius: <span class="string">'55%'</span>,  <span class="comment">//设置整个图的大小</span></span><br><span class="line">            data:[</span><br><span class="line">                &#123;<span class="attr">value</span>:<span class="number">235</span>, <span class="attr">name</span>:<span class="string">'视频广告'</span>&#125;,  <span class="comment">//通过键值对的形式来设置数值</span></span><br><span class="line">                &#123;<span class="attr">value</span>:<span class="number">274</span>, <span class="attr">name</span>:<span class="string">'联盟广告'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">value</span>:<span class="number">310</span>, <span class="attr">name</span>:<span class="string">'邮件营销'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">value</span>:<span class="number">335</span>, <span class="attr">name</span>:<span class="string">'直接访问'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">value</span>:<span class="number">400</span>, <span class="attr">name</span>:<span class="string">'搜索引擎'</span>&#125;</span><br><span class="line">            ],</span><br><span class="line">            roseType: <span class="string">'angle'</span>,  <span class="comment">//将普通的饼图切换成南丁格尔图</span></span><br><span class="line">            label: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    textStyle: &#123;</span><br><span class="line">                        color: <span class="string">'rgba(255, 255, 255, 0.3)'</span>  <span class="comment">//文本颜色</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            labelLine: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    lineStyle: &#123;</span><br><span class="line">                        color: <span class="string">'rgba(255, 255, 255, 0.3)'</span>  <span class="comment">//线的颜色</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    color: <span class="string">'#c23531'</span>,  <span class="comment">//设置整体的颜色</span></span><br><span class="line">                    shadowBlur: <span class="number">300</span>,  <span class="comment">//设置阴影的模糊度</span></span><br><span class="line">                    shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span>  设置阴影的颜色</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>再来看一下官方的效果图：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/aVHcBJG6xTQBxe0Wu9Myr6NsybPufWsFtuqDLz9CRO0!/b/dAQBAAAAAAAA&bo=XgQiAwAAAAADB1k!&rf=viewer_4"><br>可以看到这个真的很酷！</p><h3 id="异步加载数据"><a href="#异步加载数据" class="headerlink" title="异步加载数据"></a>异步加载数据</h3><p>需要实现异步加载数据其实也很简单，只要利用相关方法就可以轻松实现，比如利用jQuery中的延迟对象中的 <code>done()</code>这个方法就可以轻松实现。<br>以下是官方文档中的一个异步加载数据的实例：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span><br><span class="line"><span class="comment">// 显示标题，图例和空的坐标轴</span></span><br><span class="line">myChart.setOption(&#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        text: <span class="string">'异步数据加载示例'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    tooltip: &#123;&#125;,</span><br><span class="line">    legend: &#123;</span><br><span class="line">        data:[<span class="string">'销量'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        data: []</span><br><span class="line">    &#125;,</span><br><span class="line">    yAxis: &#123;&#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">        name: <span class="string">'销量'</span>,</span><br><span class="line">        type: <span class="string">'bar'</span>,</span><br><span class="line">        data: []</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步加载数据</span></span><br><span class="line">$.get(<span class="string">'data.json'</span>).done(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 填入数据</span></span><br><span class="line">    myChart.setOption(&#123;</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">            data: data.categories</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">            <span class="comment">// 根据名字对应到相应的系列</span></span><br><span class="line">            name: <span class="string">'销量'</span>,</span><br><span class="line">            data: data.data</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>以上例子就是先加载出空的图表，等待数据加载完毕就显示数据。</p><h3 id="使用dataset来管理数据"><a href="#使用dataset来管理数据" class="headerlink" title="使用dataset来管理数据"></a>使用dataset来管理数据</h3><p>我们前面的例子都是普通的数据格式，设置在各个<code>series</code>当中，在数据共享方面存在不足，使用dataset就可以解决这些问题，下面是一个简单的dataset的例子：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option=&#123;</span><br><span class="line">            title:&#123;</span><br><span class="line">                text:<span class="string">'这是一个测试的图表'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip:&#123;&#125;,</span><br><span class="line">            legend:&#123;&#125;,</span><br><span class="line">            dataset:&#123;</span><br><span class="line">                source:[</span><br><span class="line">                    [<span class="string">'销量'</span>,<span class="string">'销量1'</span>,<span class="string">'销量2'</span>],</span><br><span class="line">                    [<span class="string">"衬衫"</span>,<span class="string">'5'</span>,<span class="string">'20'</span>],</span><br><span class="line">                    [<span class="string">'羊毛衫'</span>,<span class="string">'30'</span>,<span class="string">'40'</span>],</span><br><span class="line">                    [<span class="string">'袜子'</span>,<span class="string">'60'</span>,<span class="string">'80'</span>],</span><br><span class="line">                    [<span class="string">'裤子'</span>,<span class="string">'60'</span>,<span class="string">'50'</span>]</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 声明一个 X 轴，类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。</span></span><br><span class="line">            xAxis:&#123;</span><br><span class="line">                type: <span class="string">'category'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis:&#123;&#125;,</span><br><span class="line">            <span class="comment">// 声明多个 bar 系列，默认情况下，每个系列会自动对应到 dataset 的每一列。</span></span><br><span class="line">            series:[</span><br><span class="line">                &#123;<span class="attr">type</span>: <span class="string">'bar'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">type</span>: <span class="string">'bar'</span>&#125;,</span><br><span class="line">            ],</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure></p><p>通过以上代码也实现了一个简单的图表，但是好处在于数据可以共享，不用重复写，而且我个人更加喜欢这种方式来写数据。<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/b6Iklzz*774qdSNWl1NPw0DH2g2.T361lGsKq4nCuYo!/b/dMUAAAAAAAAA&bo=WwXhAQAAAAADB5w!&rf=viewer_4"></p><h4 id="按行还是按列映射"><a href="#按行还是按列映射" class="headerlink" title="按行还是按列映射"></a>按行还是按列映射</h4><p>dataset默认是按列来进行映射，通过比较两种映射的方法，我个人还是更加习惯喜欢默认的按列进行映射,这里就不过多的对二者的差异进行比较。想要详细了解可以前去文档进行查询。</p><h4 id="维度"><a href="#维度" class="headerlink" title="维度"></a>维度</h4><ul><li>常用图表所描述的数据大部分是“二维表”结构，上述的例子中，我们都使用二维数组来容纳二维表。现在，当我们把系列（series）对应到“列”的时候，那么每一列就称为一个“维度（dimension）”，而每一行称为数据项（item）。反之，如果我们把系列（series）对应到表行，那么每一行就是“维度（dimension）”，每一列就是数据项（item）。</li><li>维度可以有单独的名字，便于在图表中显示。维度名（dimension name）可以在定义在 dataset 的第一行（或者第一列）。例如上面的例子中，’score’、’amount’、’product’ 就是维度名。从第二行开始，才是正式的数据。dataset.source 中第一行（列）到底包含不包含维度名，ECharts 默认会自动探测。当然也可以设置 dataset.sourceHeader: true 显示声明第一行（列）就是维度，或者 dataset.sourceHeader: false 表明第一行（列）开始就直接是数据。</li><li>维度的定义，也可以使用单独的 dataset.dimensions 或者 series.dimensions 来定义：<br>第一种是在dataset中设置：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option1 = &#123;</span><br><span class="line">    dataset: &#123;</span><br><span class="line">        dimensions: [</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">'score'</span>&#125;,</span><br><span class="line">            <span class="comment">// 可以简写为 string，表示维度名。</span></span><br><span class="line">            <span class="string">'amount'</span>,</span><br><span class="line">            <span class="comment">// 可以在 type 中指定维度类型。</span></span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">'product'</span>, <span class="attr">type</span>: <span class="string">'ordinal'</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        source: [...]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p>第二种是在series中设置：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option1 = &#123;</span><br><span class="line">    dataset: &#123;</span><br><span class="line">        dimensions: [</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">'score'</span>&#125;,</span><br><span class="line">            <span class="comment">// 可以简写为 string，表示维度名。</span></span><br><span class="line">            <span class="string">'amount'</span>,</span><br><span class="line">            <span class="comment">// 可以在 type 中指定维度类型。</span></span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">'product'</span>, <span class="attr">type</span>: <span class="string">'ordinal'</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        source: [...]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> option2 = &#123;</span><br><span class="line">    dataset: &#123;</span><br><span class="line">        source: [...]</span><br><span class="line">    &#125;,</span><br><span class="line">    series: &#123;</span><br><span class="line">        type: <span class="string">'line'</span>,</span><br><span class="line">        <span class="comment">// 在系列中设置的 dimensions 会更优先采纳。</span></span><br><span class="line">        dimensions: [</span><br><span class="line">            <span class="literal">null</span>, <span class="comment">// 可以设置为 null 表示不想设置维度名</span></span><br><span class="line">            <span class="string">'amount'</span>,</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">'product'</span>, <span class="attr">type</span>: <span class="string">'ordinal'</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>大部分时候都不需要手动去设置维度类型。但是如果因为数据为空之类原因导致判断不足够准确时，可以手动设置维度类型。<br>具体有哪些类型可以查询<a href="https://echarts.baidu.com/tutorial.html#%E4%BD%BF%E7%94%A8%20dataset%20%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener">文档</a></p><h4 id="数据到图形的映射（encode）"><a href="#数据到图形的映射（encode）" class="headerlink" title="数据到图形的映射（encode）"></a>数据到图形的映射（encode）</h4><ul><li><code>encode</code> 声明的基本结构如下，其中冒号左边是坐标系、标签等特定名称，如 ‘x’, ‘y’, ‘tooltip’ 等，冒号右边是数据中的维度名（string 格式）或者维度的序号（number 格式，从 0 开始计数），可以指定一个或多个维度（使用数组）。通常情况下，下面各种信息不需要所有的都写，按需写即可。</li><li>使用encode可以将数据按照需要映射到图形。</li><li><code>encode</code>涉及到的知识很多，我们现在来看encode的一个简单的应用。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option2=&#123;</span><br><span class="line">            <span class="comment">// 设置dataset</span></span><br><span class="line">            dataset:&#123;</span><br><span class="line">                <span class="comment">// 设置好源数据，默认是以列的方式来进行映射，所以要注意好顺序</span></span><br><span class="line">                source:[</span><br><span class="line">                    <span class="comment">// 通过一个二维数组来设置数据</span></span><br><span class="line">                    [<span class="string">'物品'</span>,<span class="string">'销量1'</span>,<span class="string">'销量2'</span>],</span><br><span class="line">                    [<span class="string">"衬衫"</span>,<span class="string">'5'</span>,<span class="string">'20'</span>],</span><br><span class="line">                    [<span class="string">'羊毛衫'</span>,<span class="string">'30'</span>,<span class="string">'40'</span>],</span><br><span class="line">                    [<span class="string">'袜子'</span>,<span class="string">'60'</span>,<span class="string">'80'</span>],</span><br><span class="line">                    [<span class="string">'裤子'</span>,<span class="string">'60'</span>,<span class="string">'50'</span>]</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            xAxis:&#123;&#125;,</span><br><span class="line">            <span class="comment">// 这里将图表设置为横向的柱状图</span></span><br><span class="line">            yAxis:&#123;<span class="attr">type</span>:<span class="string">'category'</span>&#125;,</span><br><span class="line">            <span class="comment">// 设置了两个系列</span></span><br><span class="line">            series:[</span><br><span class="line">                &#123;</span><br><span class="line">                    type:<span class="string">'bar'</span>,</span><br><span class="line">                    <span class="comment">// 通过encode来进行映射</span></span><br><span class="line">                    encode:&#123;</span><br><span class="line">                        <span class="comment">// 将销量映射到x轴</span></span><br><span class="line">                        x:<span class="string">'销量1'</span>,</span><br><span class="line">                        <span class="comment">// 将物品的类型映射到y轴</span></span><br><span class="line">                        y:<span class="string">'物品'</span>,</span><br><span class="line">                        <span class="comment">// 这里也可以通过索引来进行映射，就可以实现动态变更数据，但是要注意的一件事是索引是从0开始的。</span></span><br><span class="line">                        tooltip: [<span class="number">1</span>, <span class="number">2</span>]  <span class="comment">//也可以映射tooltip，现在还不知道是干什么的</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    type:<span class="string">'bar'</span>,</span><br><span class="line">                    encode:&#123;</span><br><span class="line">                        x:<span class="string">'销量2'</span>,</span><br><span class="line">                        y:<span class="string">'物品'</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li></ul><p>这里还看一下效果：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/cwvwewTqRW1kd5KKMudwqewDGl5Yn5L2ioeJNOpkgfI!/b/dDYBAAAAAAAA&bo=HgXKAQAAAAADB*I!&rf=viewer_4"></p><ul><li><code>encode</code>也还有很多其他的注意事项，这里就不一一介绍了，有需要可以查询文档</li></ul><h4 id="数据的各种格式"><a href="#数据的各种格式" class="headerlink" title="数据的各种格式"></a>数据的各种格式</h4><ul><li>常见的图表中，保存数据的方式是通过二维表的形式来保存的，广为熟知的数据图表表格软件也都是通过二维表，这些数据也都可以转化为json格式，<strong>网络上有很多互相转换的方法</strong>，如果转化为csv格式的文件，那么可以使用一些 csv 工具如 dsv 或者 PapaParse 将 csv 转成 JSON。</li><li>在js中比较直观常见的二维格式就是二维数组了，之前前面的所有例子都是通过二维数组来存储数据的</li><li><p>除了二维数组之外比较常见的二维形式就是对象数组了，也就是键值对的形式，比如上面的例子可以这样写：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">source:[</span><br><span class="line">    <span class="comment">// 按行的形式</span></span><br><span class="line">    &#123;<span class="string">'物品:'</span>衬衫<span class="string">','</span>销量<span class="number">1</span><span class="string">':5,'</span>销量<span class="number">2</span><span class="string">':20&#125;,</span></span><br><span class="line"><span class="string">    &#123;'</span>物品:<span class="string">'羊毛衫'</span>,<span class="string">'销量1'</span>:<span class="number">30</span>,<span class="string">'销量2'</span>:<span class="number">40</span>&#125;,</span><br><span class="line">    &#123;<span class="string">'物品:'</span>袜子<span class="string">','</span>销量<span class="number">1</span><span class="string">':60,'</span>销量<span class="number">2</span><span class="string">':80&#125;,</span></span><br><span class="line"><span class="string">    &#123;'</span>物品:<span class="string">'裤子'</span>,<span class="string">'销量1'</span>:<span class="number">60</span>,<span class="string">'销量2'</span>:<span class="number">50</span>&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>还有按列的形式这里就不演示了</p></li><li>个人觉得二维数组的形式写起来会更加的简单方便一些，所以我更加的喜欢二维数组的方式</li></ul><h4 id="设置多个datase（设置多个source）"><a href="#设置多个datase（设置多个source）" class="headerlink" title="设置多个datase（设置多个source）"></a>设置多个datase（设置多个source）</h4><p>可以同时设置多组数据，然后决定使用哪一组数据：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option = &#123;</span><br><span class="line">    dataset: [&#123;</span><br><span class="line">        <span class="comment">// 序号为 0 的 dataset。</span></span><br><span class="line">        source: [...],</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="comment">// 序号为 1 的 dataset。</span></span><br><span class="line">        source: [...]</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="comment">// 序号为 2 的 dataset。</span></span><br><span class="line">        source: [...]</span><br><span class="line">    &#125;],</span><br><span class="line">    series: [&#123;</span><br><span class="line">        <span class="comment">// 使用序号为 2 的 dataset。</span></span><br><span class="line">        datasetIndex: <span class="number">2</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="comment">// 使用序号为 1 的 dataset。</span></span><br><span class="line">        datasetIndex: <span class="number">1</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="其他事项"><a href="#其他事项" class="headerlink" title="其他事项"></a>其他事项</h4><ul><li>根据官方文档，现在并不是所有的图表类型都支持dataset</li><li>官方还给了一个多个图表共享一个dataset的例子，并且有联动效果，目前还看不懂是怎么会是</li><li>想要了解更多可以前往官方文档进行查看</li></ul><h3 id="图表组件"><a href="#图表组件" class="headerlink" title="图表组件"></a>图表组件</h3><p>echarts中有很多组件，现在就按照官方文档中的示例来先介绍一下dataZoom组件，这个组件可以将图表进行放大缩小以及拖动查看，还是很有用的，现在按照官方文档中的例子来试一试:<br>** 先是没有datazoom的散点图<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option3=&#123;</span><br><span class="line">            xAxis:&#123;</span><br><span class="line">                type:<span class="string">'value'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis:&#123;</span><br><span class="line">                type:<span class="string">'value'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            series:[</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'test'</span>,</span><br><span class="line">                    type:<span class="string">'scatter'</span>, <span class="comment">//设置这个为散点图</span></span><br><span class="line">                    data: [[<span class="string">"14.616"</span>,<span class="string">"7.241"</span>,<span class="string">"0.896"</span>],[<span class="string">"3.958"</span>,<span class="string">"5.701"</span>,<span class="string">"0.955"</span>],[<span class="string">"2.768"</span>,<span class="string">"8.971"</span>,<span class="string">"0.669"</span>],[<span class="string">"9.051"</span>,<span class="string">"9.710"</span>,<span class="string">"0.171"</span>],[<span class="string">"14.046"</span>,<span class="string">"4.182"</span>,<span class="string">"0.536"</span>],[<span class="string">"12.295"</span>,<span class="string">"1.429"</span>,<span class="string">"0.962"</span>],[<span class="string">"4.417"</span>,<span class="string">"8.167"</span>,<span class="string">"0.113"</span>],[<span class="string">"0.492"</span>,<span class="string">"4.771"</span>,<span class="string">"0.785"</span>],[<span class="string">"7.632"</span>,<span class="string">"2.605"</span>,<span class="string">"0.645"</span>],[<span class="string">"14.242"</span>,<span class="string">"5.042"</span>,<span class="string">"0.368"</span>]]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p><ul><li>现在加上datazoom组件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dataZoom: [&#123; <span class="comment">// 这个dataZoom组件，默认控制x轴。</span></span><br><span class="line">                    type: <span class="string">'slider'</span>, <span class="comment">// 这个 dataZoom 组件是 slider 型 dataZoom 组件</span></span><br><span class="line">                    start: <span class="number">10</span>, <span class="comment">// 左边在 10% 的位置。</span></span><br><span class="line">                    end: <span class="number">60</span> <span class="comment">// 右边在 60% 的位置。</span></span><br><span class="line">                &#125;],</span><br></pre></td></tr></table></figure></li></ul><p>来看下效果图：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/NHVrw*69j8C.LH4Bm6taq7Q5P3ZHuAXS.dLd8hQlDgU!/b/dLgAAAAAAAAA&bo=kgUgAgAAAAADB5c!&rf=viewer_4"><br><strong>可以看出现在有了一个可以拖动的条，但是还不能进行缩放</strong></p><ul><li>如果要可以进行缩放就需要再加上一个组件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;   <span class="comment">// 这个dataZoom组件，也控制x轴。</span></span><br><span class="line">            type: <span class="string">'inside'</span>, <span class="comment">// 这个 dataZoom 组件是 inside 型 dataZoom 组件</span></span><br><span class="line">            start: <span class="number">10</span>,      <span class="comment">// 左边在 10% 的位置。</span></span><br><span class="line">            end: <span class="number">60</span>         <span class="comment">// 右边在 60% 的位置。</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li></ul><p>加上以后就可以进行缩放了<br>**这里只以x轴为例子进行了演示，y轴也是一样的方法。</p><h3 id="响应式图表"><a href="#响应式图表" class="headerlink" title="响应式图表"></a>响应式图表</h3><p>echarts中支持响应式图表，也是通过类似于媒体查询来实现的，这十分有用，因为我们的项目可能是用bootstrap来制作，那么在这种情况下响应式是必不可少的。</p><h4 id="echarts组件的定位和布局"><a href="#echarts组件的定位和布局" class="headerlink" title="echarts组件的定位和布局"></a>echarts组件的定位和布局</h4><p>echarts中有两种定位方式：</p><ul><li><strong>left/right/top/bottom/width/height 定位方式：</strong><br>例如：<code>{left: 23, height: 400}</code>，可以不写单位，还可以写成百分比的形式，<code>{left: 30%, height: 40%}</code><br>可以设置 <code>left: &#39;center&#39;</code>，表示水平居中。<br>可以设置 <code>top: &#39;middle&#39;</code>，表示垂直居中。</li></ul><p>在横向，left、right、width 三个量中，只需两个量有值即可，因为任两个量可以决定组件的位置和大小，例如 left 和 right 或者 right 和 width 都可以决定组件的位置和大小。 纵向，top、bottom、height 三个量，和横向类同不赘述。</p><ul><li><strong>center / radius 定位方式：</strong><br>center<br>是一个数组，表示 [x, y]，其中，x、y可以是『绝对值』或者『百分比』，含义和前述相同。<br>radius<br>是一个数组，表示 [内半径, 外半径]，其中，内外半径可以是『绝对值』或者『百分比』，含义和前述相同。<br>在自适应容器大小时，百分比设置是很有用的。</li></ul><h4 id="图表的方向"><a href="#图表的方向" class="headerlink" title="图表的方向"></a>图表的方向</h4><p>在echarts中有一些图表可能会很长，在pc端可以较好的显示，在移动端就不一定能够很好的显示了，所以就需要设置他们的方向：<br>横纵向布局的设置，一般在『组件』或者『系列』的 <strong>orient</strong> 或者 <strong>layout</strong> 配置项上，设置为 <code>&#39;horizontal&#39;</code> 或者 <code>&#39;vertical&#39;</code>。</p><h4 id="实现响应式"><a href="#实现响应式" class="headerlink" title="实现响应式"></a>实现响应式</h4><p>前面有说到echarts中实现响应式是通过类似媒体查询来实现的，这就是echarts中的  <strong>Media Query</strong><br>在option中Media Query 的基本格式：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    baseOption: &#123; <span class="comment">// 这里是基本的『原子option』。也就是用来设置一些通用的基本的与响应式无关的选项</span></span><br><span class="line">        title: &#123;...&#125;,</span><br><span class="line">        legend: &#123;...&#125;,</span><br><span class="line">        series: [&#123;...&#125;, &#123;...&#125;, ...],</span><br><span class="line">        ...</span><br><span class="line">    &#125;,</span><br><span class="line">    media: [ <span class="comment">// 这里定义了 media query 的逐条规则。</span></span><br><span class="line">        &#123;</span><br><span class="line">            query: &#123;...&#125;,   <span class="comment">// 这里写规则。</span></span><br><span class="line">            option: &#123;       <span class="comment">// 这里写此规则满足下的option。</span></span><br><span class="line">                legend: &#123;...&#125;,</span><br><span class="line">                ...</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            query: &#123;...&#125;,   <span class="comment">// 第二个规则。</span></span><br><span class="line">            option: &#123;       <span class="comment">// 第二个规则对应的option。</span></span><br><span class="line">                legend: &#123;...&#125;,</span><br><span class="line">                ...</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;                   <span class="comment">// 这条里没有写规则，表示『默认』，</span></span><br><span class="line">            option: &#123;       <span class="comment">// 即所有规则都不满足时，采纳这个option。</span></span><br><span class="line">                legend: &#123;...&#125;,</span><br><span class="line">                ...</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p><strong>query</strong>的格式：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    minWidth: <span class="number">200</span>,<span class="comment">//设置响应式的最小宽度，表示大于200px就是这个option</span></span><br><span class="line">    maxHeight: <span class="number">300</span>,<span class="comment">//设置响应式的最大宽度</span></span><br><span class="line">    minAspectRatio: <span class="number">1.3</span><span class="comment">//设置响应式的长宽比</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>多个query被满足时的优先级</strong><br>后面的覆盖前面的</p><p><strong>默认 query：</strong><br>如果 media 中有某项不写 query，则表示『默认值』，即所有规则都不满足时，采纳这个option。</p><p><strong>容器大小实时变化时的注意事项</strong><br>如果要一直动态的改变容器的大小并且让图表的大小也随之改变，那就必须注意<code>query option</code>中出现的配置项，其他<code>query option</code>也必须出现，防止出现回不去的情况。</p><p><strong>关于Echarts响应式还有一件需要注意的事情</strong><br>Echarts.js中虽然有类似响应式的支持，但是这与bootstrap中的响应式有很大不同，echarts中自带的响应式不能像bootstrap中那样随着窗口大小的改变而实时的更改图表的位置以及大小，只有在网页刷新的时候或者再一次setoption的时候才会有位置或者大小的变更，虽然这也能达到响应式的目的，但是我觉得这在bootstrap中会显得十分的不协调，所以我针对这一方面进行了改进，下篇文章进行详细介绍。</p><h3 id="echarts中的事件和行为"><a href="#echarts中的事件和行为" class="headerlink" title="echarts中的事件和行为"></a>echarts中的事件和行为</h3><p>echarts中自带了很多的事件和行为，我们可以通过<code>on</code>的方法来绑定。<br>例如下面的代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是一个echarts中的单击事件，单击图表之后在控制台打印数据</span></span><br><span class="line">myChart.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 控制台打印数据的名称</span></span><br><span class="line">    <span class="built_in">console</span>.log(params.name);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>echarts中还有很多的事件，这里就不一一介绍了，这里再说一下鼠标事件返回的参数<code>params</code><br>,这个参数是一个图形的数据信息对象，格式如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 当前点击的图形元素所属的组件名称，</span></span><br><span class="line">    <span class="comment">// 其值如 'series'、'markLine'、'markPoint'、'timeLine' 等。</span></span><br><span class="line">    componentType: string,</span><br><span class="line">    <span class="comment">// 系列类型。值可能为：'line'、'bar'、'pie' 等。当 componentType 为 'series' 时有意义。</span></span><br><span class="line">    seriesType: string,</span><br><span class="line">    <span class="comment">// 系列在传入的 option.series 中的 index。当 componentType 为 'series' 时有意义。</span></span><br><span class="line">    seriesIndex: number,</span><br><span class="line">    <span class="comment">// 系列名称。当 componentType 为 'series' 时有意义。</span></span><br><span class="line">    seriesName: string,</span><br><span class="line">    <span class="comment">// 数据名，类目名</span></span><br><span class="line">    name: string,</span><br><span class="line">    <span class="comment">// 数据在传入的 data 数组中的 index</span></span><br><span class="line">    dataIndex: number,</span><br><span class="line">    <span class="comment">// 传入的原始数据项</span></span><br><span class="line">    data: <span class="built_in">Object</span>,</span><br><span class="line">    <span class="comment">// sankey、graph 等图表同时含有 nodeData 和 edgeData 两种 data，</span></span><br><span class="line">    <span class="comment">// dataType 的值会是 'node' 或者 'edge'，表示当前点击在 node 还是 edge 上。</span></span><br><span class="line">    <span class="comment">// 其他大部分图表中只有一种 data，dataType 无意义。</span></span><br><span class="line">    dataType: string,</span><br><span class="line">    <span class="comment">// 传入的数据值</span></span><br><span class="line">    value: number|<span class="built_in">Array</span></span><br><span class="line">    <span class="comment">// 数据图形的颜色。当 componentType 为 'series' 时有意义。</span></span><br><span class="line">    color: string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>**echarts中事件与行为更为详细的信息可以查阅相关的<a href="https://echarts.baidu.com/tutorial.html#ECharts%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%92%8C%E8%A1%8C%E4%B8%BA" target="_blank" rel="noopener">文档</a>，这里就不详细说明了</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>到这里就介绍了echarts中的一些基本的概念以及信息，还不是特别全面，算是稍微认识了一下echarts，echarts的功能十分的强大可自定义的程度也是非常的高，官方文档有非常详细的配置项介绍，如果感兴趣的话可以慢慢去学习。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;最近在做期末的课程设计的时候需要做一个后台管理界面，所以需要用到一些图标插件，经过搜索我发现有好多的图标插件，最终我决定要使用echarts.js，其中一个很重要的原因就是它是有国内的百度的团队主导开发的一个项目，所以有中文文档，方便我查阅，文档查阅请看&lt;a href=&quot;https://echarts.baidu.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;这里&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>关于animate.css与wow.js的使用</title>
    <link href="https://q32757468.github.io/2019/06/05/%E5%85%B3%E4%BA%8Eanimate-css%E4%B8%8Ewow-js%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://q32757468.github.io/2019/06/05/关于animate-css与wow-js的使用/</id>
    <published>2019-06-05T10:26:37.000Z</published>
    <updated>2019-06-05T12:03:13.911Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在实际的网站开发过程中或多或少的都会使用到一些动画功能，所以学会使用动画是必不可少的，前面我们已经学习过了jQuery中的一些动画相关方面的方法，并且学习了自定义动画，可以帮我们做出我们想要的动画，当时使用这些动画还是不够简单方便，其实在网上已经有很多动画相关的扩展，我们只需要调用即可简单的实现一些常用的动画，这次就来学习一下animate.css以及wow.js的使用。<br><a id="more"></a></p></blockquote><h3 id="animate-css"><a href="#animate-css" class="headerlink" title="animate.css"></a>animate.css</h3><ul><li>animate.css是一款常见的css库，包含了很多的常见动画，使用起来也是十分的简单方便，只需要将animate.css文件引入到我们的项目中即可<br><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;./../../css/animate.css/animate.css&quot;&gt;</code> </li><li>引入进来以后我们想要使用动画也是十分的简单，只需要给我们想要添加动画的元素添加上类即可，例如：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 p-5 bg-danger animated bounce"</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>这样我们就很轻松的给这个元素加上了一个弹起动画</p><ul><li><p>那么我们要如何给动画设置一些属性呢，比如说像延时，动画时间之类的呢<br>一种方法是通过css样式去覆盖原有的属性:<br>例如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 p-5 bg-danger animated bounce"</span> <span class="attr">style</span>=<span class="string">"animation-delay: 5s;animation-duration: 3s"</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>以下是常用的设置：</p><table>        <tr>            <td>animation-duration</td>            <td>规定完成动画所花费的时间，以秒或毫秒计。</td>        </tr>        <tr>            <td><a href="http://www.w3school.com.cn/cssref/pr_animation-timing-function.asp" target="_blank" rel="noopener">animation-timing-function</a></td>            <td>规定动画的速度曲线。</td>        </tr>        <tr>            <td>animation-delay</td>            <td>规定在动画开始之前的延迟。</td>        </tr>        <tr>            <td>animation-iteration-count</td>            <td>规定动画应该播放的次数。</td>        </tr></table><p>通过这种办法我们就可以对动画进行一些设置</p></li><li><p>那么还有一种办法就是使用js对其进行设置<br>在网上有一款js插件就是基于animate.css的js动画插件，用法其实是和animate.css是差不多的，但是可以直接设置动画相关的一些属性，使用起来可能会稍微方便那么一点点，因为不用特地再去设置css。</p></li></ul><h3 id="wow-js"><a href="#wow-js" class="headerlink" title="wow.js"></a>wow.js</h3><p>上面提到的那款js插件就是wow.js，它是基于animate.css制作的，所以使用它需要在网页中引入animate.css，用法与animate.css相似：</p><ul><li>使用之前需要先进行初始化：<br><code>new WOW().init();</code></li><li>给需要设置动画的元素添加上<code>wow</code>、<code>animate</code>类即可添加上动画，此处的animate指的是animate.css中支持的动画名称。例如：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 p-5 bg-light wow fadeInLeft"</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>通过这样的设置就可以轻松的将动画轻松的应用到元素上面</p><ul><li>通过wow.js对动画进行相关的设置是比较轻松的：<br>data-wow-duration （动画持续时间）<br>data-wow-delay （动画延迟时间）<br>data-wow-offset（元素的位置露出后距离底部多少像素执行）<br>data-wow-iteration（动画执行次数）</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;给元素添加动画的方法有很多，可以自己用css编写，或者js编写，也可以直接用网上众多的动画库，今天我这里就介绍了两款动画库。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;那么该用哪个呢，其实我个人更倾向于直接使用animate.css，因为不用引入其他更多的文件，虽然设置属性的时候不如wow.js方便，但是文件更少，并且可以只取自己想要的动画。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;在实际的网站开发过程中或多或少的都会使用到一些动画功能，所以学会使用动画是必不可少的，前面我们已经学习过了jQuery中的一些动画相关方面的方法，并且学习了自定义动画，可以帮我们做出我们想要的动画，当时使用这些动画还是不够简单方便，其实在网上已经有很多动画相关的扩展，我们只需要调用即可简单的实现一些常用的动画，这次就来学习一下animate.css以及wow.js的使用。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>锚点动画的实现以及其他相关</title>
    <link href="https://q32757468.github.io/2019/06/05/%E9%94%9A%E7%82%B9%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3/"/>
    <id>https://q32757468.github.io/2019/06/05/锚点动画的实现以及其他相关/</id>
    <published>2019-06-05T03:26:40.000Z</published>
    <updated>2019-06-05T03:52:43.864Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在单页面中导航大多数都是直接使用锚点来进行导航，因为使用起来比较方便，但是单纯的锚点导航没有动画看起来比较生硬，所以基本上涉及到单页面导航都会给锚点跳转加上动画，那么实现起来也十分的简单方便。通过现在这么多的练习与学习，我发现很多功能如果每次都要自己写的话会比较麻烦，是否可以像各种框架一样封装起来成为自己的一个框架，每次只要通过特定的方法来调用就好了，那么这次我就将这个锚点动画的功能封装在我自己的一个js当中。同时这次涉及到锚点，又使我想起了前一段时间接触到的js中的hash，总感觉二者很像，再来探讨一下二者之间的关系。<br><a id="more"></a></p></blockquote><h3 id="实现锚点动画"><a href="#实现锚点动画" class="headerlink" title="实现锚点动画"></a>实现锚点动画</h3><p>代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">anchor_animate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 可传递上下偏移量</span></span><br><span class="line">        <span class="keyword">var</span> $offsetY = <span class="built_in">parseInt</span>(-$(<span class="string">".my.anchor-animate"</span>).data(<span class="string">'moffset'</span>)) || <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 可传递动画时间</span></span><br><span class="line">        <span class="keyword">var</span> $time = <span class="built_in">parseInt</span>($(<span class="string">".my.anchor-animate"</span>).data(<span class="string">'mtime'</span>)) || <span class="number">500</span>;</span><br><span class="line">        $(<span class="string">".my.anchor-animate a"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">'html,body'</span>).animate(&#123;</span><br><span class="line">                <span class="comment">// 拿到锚点对应所在对象并给其设置动画</span></span><br><span class="line">                scrollTop: ($($(<span class="keyword">this</span>).attr(<span class="string">'href'</span>)).offset().top + $offsetY)</span><br><span class="line">            &#125;, $time);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)();</span><br></pre></td></tr></table></figure></p><p>通过这些简单的代码就可以实现锚点动画了，值得注意的是这是我已经封装好的锚点动画，如果想要调用只需要给想要实现锚点动画的导航栏加上<code>.my</code> 、 <code>.anchor-animate</code> 这两个类就可以了，还可以通过data来设置参数，下次想要使用的时候就很方便了，以后把更多的功能封装进来。</p><h3 id="关于hash"><a href="#关于hash" class="headerlink" title="关于hash"></a>关于hash</h3><p>起初我在学习一些知识的时候有使用过hash，不过当时是使用在实现给不同页面加上hash值，然后实现页面刷新在固定页面的功能上，因为hash也是在地址栏中加上#的原因，所以我觉得这和锚点很像，然后我去查了一下，其实hash的定义就是：<strong>hash 属性是一个可读可写的字符串，该字符串是 URL 的锚部分（从 # 号开始的部分）。</strong>其实就是一家人，再记录一下hash的用法：<code>location.hash=anchorname</code>当设置之后当前页面的url地址栏中就会出现<code>#anchorname</code>了。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>以后尽可能的将一些常用的功能都封装到自己的js之中，然后向一些框架学习，学习他们是如何封装的，让自己的js也更加的规范。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;在单页面中导航大多数都是直接使用锚点来进行导航，因为使用起来比较方便，但是单纯的锚点导航没有动画看起来比较生硬，所以基本上涉及到单页面导航都会给锚点跳转加上动画，那么实现起来也十分的简单方便。通过现在这么多的练习与学习，我发现很多功能如果每次都要自己写的话会比较麻烦，是否可以像各种框架一样封装起来成为自己的一个框架，每次只要通过特定的方法来调用就好了，那么这次我就将这个锚点动画的功能封装在我自己的一个js当中。同时这次涉及到锚点，又使我想起了前一段时间接触到的js中的hash，总感觉二者很像，再来探讨一下二者之间的关系。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>php中页面分页的实现</title>
    <link href="https://q32757468.github.io/2019/06/03/php%E4%B8%AD%E9%A1%B5%E9%9D%A2%E5%88%86%E9%A1%B5%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <id>https://q32757468.github.io/2019/06/03/php中页面分页的实现/</id>
    <published>2019-06-03T13:01:46.000Z</published>
    <updated>2019-06-03T13:33:12.477Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;今天老师上课给我们讲了一下php中的翻页功能的实现，，主要是通过数据库中的limit方法实现，这一点和我预想的差不多，但是通过给页面设置id的这种办法是我没有想到的，我一开始的设想是，能不能作到不用给每个页面设置一个id，根据这个id进行跳转，而是直接设置一个变量，当进行翻页的时候这个变量的数值发生变化，然后根据这个变量来获取数据库中的内容。这个想法应该可以实现，但是可能会比较麻烦，因为在php中还是必须要刷新页面才能更新数据的，所以目前来看还是这种方法应该是最好的，那么就来看看究竟是怎么实现分页功能的。<br><a id="more"></a></p></blockquote><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><ul><li><p>先是连接数据库：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 一个正常的连接数据库的页面</span></span><br><span class="line">$conn=mysqli_connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">''</span>,<span class="string">'test'</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">'失败'</span>);</span><br><span class="line">mysqli_set_charset($conn,<span class="string">'utf8'</span>);</span><br><span class="line">$res=mysqli_query($conn,<span class="string">'select * from stu'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>实现功能的页面</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;id&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;姓名&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;年龄&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;性别&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">        <span class="keyword">include</span> <span class="string">'conn.php'</span>;</span><br><span class="line">        $data_count=mysqli_num_rows($res);  <span class="comment">//获取数据表中有多少条数据</span></span><br><span class="line">        $data_num=<span class="number">2</span>; <span class="comment">//设置一页显示多少条数据</span></span><br><span class="line">        $id=<span class="keyword">empty</span>($_GET[<span class="string">'id'</span>])?<span class="number">1</span>:$_GET[<span class="string">'id'</span>]; <span class="comment">//判断当前页面的url栏中的id参数是否为空，如果为空则默认为1，否则则为url中id的数值</span></span><br><span class="line">        $pg_count=ceil($data_count/$data_num);  <span class="comment">//计算总共有多少页，ceil的用法是往上取整</span></span><br><span class="line">        <span class="comment">//通过limit来获取每一个页面该显示的数据</span></span><br><span class="line">        $datas=mysqli_query($conn,<span class="string">"select * from stu limit "</span>.($id<span class="number">-1</span>)*<span class="number">2</span> . <span class="string">','</span>. $data_num);</span><br><span class="line">        <span class="comment">//用来排错的方法</span></span><br><span class="line">        <span class="comment">// if (!$datas) &#123;</span></span><br><span class="line">        <span class="comment">//     printf("Error: %s\n", mysqli_error($conn));</span></span><br><span class="line">        <span class="comment">//     exit(); </span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// 输出最终获取到的页面的数据</span></span><br><span class="line">        <span class="keyword">while</span>($row=mysqli_fetch_array($datas))&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"&lt;tr&gt;&lt;td&gt;$row[id]&lt;/td&gt;&lt;td&gt;$row[name]&lt;/td&gt;&lt;td&gt;$row[age]&lt;/td&gt;&lt;td&gt;$row[sex]&lt;/td&gt;&lt;/tr&gt;"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="meta">?&gt;</span>  </span><br><span class="line">    &lt;!-- 在href中设置id的值 --&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;&lt;a href=<span class="string">"?id=1"</span>&gt;首页&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">    实现上一页的功能，先判断是否是第一页，否则id<span class="number">-1</span></span><br><span class="line">    &lt;td&gt;&lt;a href=<span class="string">"?id=&lt;?php echo $id==1?1:$id-1 ?&gt;"</span>&gt;上一页&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">    实现上一页的功能，先判断是否是最后一页，否则id+<span class="number">1</span></span><br><span class="line">    &lt;td&gt;&lt;a href=<span class="string">"?id=&lt;?php echo $id==$pg_count?$pg_count:$id+1 ?&gt;"</span>&gt;下一页&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;&lt;a href=<span class="string">"?id=&lt;?php echo $pg_count ?&gt;  "</span>&gt;尾页&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></li></ul><p>其实代码还是很好理解的，但是自己在写的过程中还是遇到了一些问题，下面记录一下这些问题</p><h3 id="我自己在编写过程中遇到的一些问题"><a href="#我自己在编写过程中遇到的一些问题" class="headerlink" title="我自己在编写过程中遇到的一些问题"></a>我自己在编写过程中遇到的一些问题</h3><p>首先就是在我基本上已经写完代码之后一测试就爆出了一个警告，并且最终没有出现我想要的结果，于是我上网查询解决办法，于是找到了下面这一段代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!$datas) &#123;</span><br><span class="line">        printf(<span class="string">"Error: %s\n"</span>, mysqli_error($conn));</span><br><span class="line">        <span class="keyword">exit</span>(); </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p><p>通过上述代码就没有再出现警告了，而是直接报错，提示问题在哪，我就在附近排查问题，</p><p><code>$datas=mysqli_query($conn,&quot;select * from stu limit ($id-1)*2 , $data_num&quot;);</code></p><p>我一开始想会不会因为是没有拼接字符串的原因,于是我修改代码改成后面是拼接字符串的形式。</p><p><code>$datas=mysqli_query($conn,&quot;select * from stu limit&quot;.($id-1)*2 . &#39;,&#39;. $data_num);</code></p><p>但是一直都是出现一样的错误提示，后面经过我的测试发现是<code>$datas</code>中没有数据，但是我直接不写变量，把变量写死就能出来数据。<br>反复比较自己那部分的代码和老师给的代码，但是直接比对并没有发现什么不一样，后面复制老师的这行代码稍加修改结果却是正常的。<br>最后我终于发现了问题所在，其实我尝试的两种写法都存在问题：</p><ul><li>首先是我一开始没有拼接变量，而是直接将变量写在字符串之中，我发现也是数据库在处理语句的时候出现的问题，我猜测应该是在使用变量的时候变量会把前面的空格给吞掉，导致语句执行错误。</li><li>后面我尝试拼接字符串的时候又出现了问题是因为我在<code>limit</code>后面少拼接了一个空格导致语句执行出错。</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>写php还是不是特别的熟练，所以经常出现各种问题，所以要总结错误，加深印象，以后越写越熟练以后的错误就会越来越少</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;今天老师上课给我们讲了一下php中的翻页功能的实现，，主要是通过数据库中的limit方法实现，这一点和我预想的差不多，但是通过给页面设置id的这种办法是我没有想到的，我一开始的设想是，能不能作到不用给每个页面设置一个id，根据这个id进行跳转，而是直接设置一个变量，当进行翻页的时候这个变量的数值发生变化，然后根据这个变量来获取数据库中的内容。这个想法应该可以实现，但是可能会比较麻烦，因为在php中还是必须要刷新页面才能更新数据的，所以目前来看还是这种方法应该是最好的，那么就来看看究竟是怎么实现分页功能的。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>写一个简单的五星评分系统</title>
    <link href="https://q32757468.github.io/2019/05/27/%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%94%E6%98%9F%E8%AF%84%E5%88%86%E7%B3%BB%E7%BB%9F/"/>
    <id>https://q32757468.github.io/2019/05/27/写一个简单的五星评分系统/</id>
    <published>2019-05-27T10:42:06.000Z</published>
    <updated>2019-05-27T10:57:34.131Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近在写期末的课程设计，网站有要求写一个五星评分的功能，我按照我的思路写了一下，经过一下午的时间，把这个功能实现的比较完善了。<br><a id="more"></a></p></blockquote><h3 id="一开始的第一种尝试"><a href="#一开始的第一种尝试" class="headerlink" title="一开始的第一种尝试"></a>一开始的第一种尝试</h3><p>放代码：<br>HTML部分：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">.all&#123;</span><br><span class="line">    display: flex;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"all"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">0</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">1</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">2</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">3</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">4</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>JS部分：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $stars=$(<span class="string">'img'</span>);</span><br><span class="line">        <span class="built_in">console</span>.log($stars);</span><br><span class="line">        <span class="comment">// 最外面的循环是给所有img添加事件</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;$stars.length;i++)&#123;</span><br><span class="line">            $stars.eq(i).mouseenter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="comment">// 第二层的循环是判断是否是当前正在操作的元素</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;$stars.length;i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>($stars[i]==<span class="keyword">this</span>)&#123;</span><br><span class="line">                        $(<span class="keyword">this</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                            <span class="built_in">console</span>.log(i);                           </span><br><span class="line">                        &#125;)</span><br><span class="line">                        <span class="comment">// 第三层的循环是给所有的星星设置相应的图片,让它显示出应有的效果</span></span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;$stars.length;j++)&#123;</span><br><span class="line">                            <span class="keyword">if</span>(j&lt;=i)&#123;</span><br><span class="line">                                $stars.eq(j).attr(<span class="string">"src"</span>,<span class="string">"./images/xz.png"</span>)</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span>&#123;</span><br><span class="line">                                $stars.eq(j).attr(<span class="string">"src"</span>,<span class="string">"./images/wxz.png"</span>)</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><p>最终是实现了效果,但是我觉得这不是最好最简单的写法,于是我将其改进了一下，有了下面的这种写法。</p><h3 id="第二种写法"><a href="#第二种写法" class="headerlink" title="第二种写法"></a>第二种写法</h3><p>第二种写法原理其实也是一样的，只不过是代码更加的简介和简单<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">*&#123;</span></span><br><span class="line"><span class="undefined">    list-style: none;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.all</span>&#123;</span></span><br><span class="line"><span class="undefined">    display: flex;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"all"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">"2"</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">"3"</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">index</span>=<span class="string">"4"</span> <span class="attr">src</span>=<span class="string">"./images/wxz.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $stars=$(<span class="string">'img'</span>);<span class="comment">//获取所有的星星</span></span><br><span class="line">        <span class="comment">// 鼠标移入事件</span></span><br><span class="line">        $stars.mouseenter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> $star_index=<span class="built_in">parseInt</span>($(<span class="keyword">this</span>).attr(<span class="string">"index"</span>));</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;$stars.length;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;=$star_index)&#123;</span><br><span class="line">                    $stars.eq(i).attr(<span class="string">"src"</span>,<span class="string">"./images/xz.png"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    $stars.eq(i).attr(<span class="string">"src"</span>,<span class="string">"./images/wxz.png"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;            </span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 单击事件，向服务器提交数据</span></span><br><span class="line">        $stars.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> $star_index=<span class="built_in">parseInt</span>($(<span class="keyword">this</span>).attr(<span class="string">"index"</span>));</span><br><span class="line">            <span class="built_in">console</span>.log($star_index+<span class="number">1</span>);  </span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>可以看出第二种写法要简单很多，主要是没有这么多的循环嵌套，这也是我最终所采用的写法。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>虽然这个评分系统的原理以及思路是挺简单的，但其实在实现的过程中还是遇到了一些困难的，不过经过不断的思考排错，最终还是将其完善了，相信只要不断的学习，以后一定能越来越得心应手。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;最近在写期末的课程设计，网站有要求写一个五星评分的功能，我按照我的思路写了一下，经过一下午的时间，把这个功能实现的比较完善了。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>HTML中DOM的hash属性的使用</title>
    <link href="https://q32757468.github.io/2019/05/26/hash%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://q32757468.github.io/2019/05/26/hash的使用/</id>
    <published>2019-05-26T07:53:50.000Z</published>
    <updated>2019-05-26T08:14:41.127Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash在网站中的使用也是十分的常见，使用hash也可以带来便利，这次我们来看看hash究竟该如何让使用。<br><a id="more"></a></p></blockquote><h3 id="如何设置hash"><a href="#如何设置hash" class="headerlink" title="如何设置hash"></a>如何设置hash</h3><p>我们可以通过在js中设置hash的值<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.location.hash=<span class="number">3</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><p>这样就可以设置hash值，那么设置过后我们就可以在地址栏看到多了一个#3<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/H8tyFYP6W*cxDr1aDqapb7YlavnaAimWRkmYblIM5io!/b/dFMBAAAAAAAA&bo=xwVmAAAAAAADB4Y!&rf=viewer_4"></p><h3 id="如何获取hash的值"><a href="#如何获取hash的值" class="headerlink" title="如何获取hash的值"></a>如何获取hash的值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">window</span>.location.hash=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.location.hash); <span class="comment">//#3    </span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">``` </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">直接就能获取hash的值，但是这样获取到的值带有``#``</span></span><br><span class="line"><span class="regexp">我们要获取的一般都是不带``#``的值</span></span><br><span class="line"><span class="regexp">所以我们可以这样处理</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">```javasript</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    window.location.hash=3;</span></span><br><span class="line"><span class="regexp">    console.log(window.location.hash); /</span><span class="regexp">/#3   </span></span><br><span class="line"><span class="regexp">    console.log(window.location.hash.substring(1)); /</span><span class="regexp">/3    </span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure><p>使用字符串截取函数，截取不带<code>#</code>的这一部分</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>hash的使用十分的简单，但是hash的使用频率很高，通过hash我们就可以实现例如翻页还在同一页的效果。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hash在网站中的使用也是十分的常见，使用hash也可以带来便利，这次我们来看看hash究竟该如何让使用。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ajax的学习</title>
    <link href="https://q32757468.github.io/2019/05/26/Ajax%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <id>https://q32757468.github.io/2019/05/26/Ajax的学习/</id>
    <published>2019-05-26T06:44:01.000Z</published>
    <updated>2019-05-26T07:43:47.006Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ajax技术可以说是随处可见，在网页的交互方面基本上都用到了Ajax，可以说Ajax作用是十分的强大，通过 Ajax，因特网应用程序可以变得更完善，更友好。所以作为正在学习的我来说，完整学习Ajax以及完全掌握Ajax是十分重要的。<br><a id="more"></a></p></blockquote><h3 id="什么是Ajax呢？"><a href="#什么是Ajax呢？" class="headerlink" title="什么是Ajax呢？"></a>什么是Ajax呢？</h3><ul><li>Ajax 即“Asynchronous Javascript And XML”（异步 JavaScript 和 XML），是指一种创建交互式网页应用的网页开发技术。</li><li>Ajax = 异步 JavaScript 和 XML 或者是 HTML（标准通用标记语言的子集）。</li><li>Ajax 是一种用于创建快速动态网页的技术。</li><li>Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。</li><li>通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</li><li>传统的网页（不使用 Ajax）如果需要更新内容，必须重载整个网页页面。</li></ul><h3 id="Ajax所涉及的相关知识"><a href="#Ajax所涉及的相关知识" class="headerlink" title="Ajax所涉及的相关知识"></a>Ajax所涉及的相关知识</h3><ul><li>get方式提交数据与post方式提交数据的异同点<br>1、通过get方式提交数据会把数据放在url地址栏中，而使用post方式提交数据则会把数据放到请求头中，可以在调试工具的network栏中看到这些数据<br>2、get请求由于浏览器对于url地址栏长度的限制，所以导致get1请求发送数据会有长度限制，要支持ie，那么最大长度就为2083byte</li></ul><ul><li><p>原生js实现Ajax可以参考<a href="http://www.w3school.com.cn/ajax/ajax_xmlhttprequest_create.asp" target="_blank" rel="noopener">这里</a></p></li><li><p>由于原生js实现Ajax过程比较多，这里不做过多介绍，了解即可，通常使用jQuery中的ajax方法，比较方便快捷的使用Ajax。</p></li></ul><h3 id="jQuery中的Ajax"><a href="#jQuery中的Ajax" class="headerlink" title="jQuery中的Ajax"></a>jQuery中的Ajax</h3><ul><li>jQuery 提供多个与 AJAX 有关的方法。</li><li>通过 jQuery AJAX 方法，您能够使用 HTTP Get 和 HTTP Post 从远程服务器上请求文本、HTML、XML 或 JSON - 同时能够把这些外部数据直接载入网页的被选元素中。</li><li>jQuery.ajax([settings]) 这是jQuery中的Ajax的基本用法。</li></ul><p><strong>settings最常用的参数</strong></p><ul><li>type<br>类型：String<br>默认值: “GET”)。请求方式 (“POST” 或 “GET”)， 默认为 “GET”。注意：其它 HTTP 请求方法，如 PUT 和 DELETE 也可以使用，但仅部分浏览器支持。</li><li>url<br>类型：String<br>默认值: 当前页地址。发送请求的地址。</li><li>data<br>类型：String<br>发送到服务器的数据。将自动转换为请求字符串格式。GET 请求中将附加在 URL 后。查看 processData 选项说明以禁止此自动转换。必须为 Key/Value 格式。如果为数组，jQuery 将自动为不同值对应同一个名称。如 {foo:[“bar1”, “bar2”]} 转换为 ‘&amp;foo=bar1&amp;foo=bar2’。</li><li>error<br>类型：Function<br>默认值: 自动判断 (xml 或 html)。请求失败时调用此函数。<br>有以下三个参数：XMLHttpRequest 对象、错误信息、（可选）捕获的异常对象。<br>如果发生了错误，错误信息（第二个参数）除了得到 null 之外，还可能是 “timeout”, “error”, “notmodified” 和 “parsererror”。<br>这是一个 Ajax 事件。</li><li>success<br>类型：Function<br>请求成功后的回调函数。<br>参数：由服务器返回，并根据 dataType 参数进行处理后的数据；描述状态的字符串。<br>这是一个 Ajax 事件。</li><li>除了以上这些外，jQuery中Ajax的settings还有很多参数，具体可以参考<a href="http://www.w3school.com.cn/jquery/ajax_ajax.asp" target="_blank" rel="noopener">这里</a></li></ul><h3 id="通过jQuery中的Ajax来写两个简单的例子"><a href="#通过jQuery中的Ajax来写两个简单的例子" class="headerlink" title="通过jQuery中的Ajax来写两个简单的例子"></a>通过jQuery中的Ajax来写两个简单的例子</h3><ul><li>通过get方式来向远程服务器提交数据。<br>html代码<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 通过一个按钮的单击事件来触发ajax --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>这是一个按钮，点击发送Ajax请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        $(function()&#123;</span></span><br><span class="line"><span class="undefined">            var $bt=$('button');</span></span><br><span class="line"><span class="undefined">            // 为按钮绑定单击事件</span></span><br><span class="line"><span class="undefined">            $bt.click(function()&#123;</span></span><br><span class="line"><span class="undefined">                // 调用jQuery中的Ajax</span></span><br><span class="line"><span class="undefined">                $.ajax(&#123;</span></span><br><span class="line"><span class="undefined">                    type:'get',</span></span><br><span class="line"><span class="undefined">                    url:'./php/ajax-get.php',</span></span><br><span class="line"><span class="undefined">                    data:'name=hsl&amp;age=18',</span></span><br><span class="line"><span class="undefined">                    success:function(msg)&#123;</span></span><br><span class="line"><span class="undefined">                        alert(msg)</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    error:function(xhr)&#123;</span></span><br><span class="line"><span class="undefined">                        alert(xhr)</span></span><br><span class="line"><span class="undefined">                    &#125;                  </span></span><br><span class="line"><span class="undefined">                &#125;)</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>php代码<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'这是返回的名字'</span>.$_GET[<span class="string">'name'</span>];</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'这是返回的年龄'</span>.$_GET[<span class="string">'age'</span>];</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p><p>根据代码我们可以看出当我们单击按钮的时候就会触发单击事件调用ajax，给我们返回后端处理过后的数据，那结果究竟会是怎样呢。<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/tepFyRHq8E3mxrioO.DorS3OftIWsQOzaJozrNmPjn8!/b/dEkBAAAAAAAA&bo=gAcSBAAAAAADB7M!&rf=viewer_4"><br>通过图片我们可以看出Ajax成功返回了我们想要的数据，并且我们可以看到这个php文件的url附加了我们的参数信息。</p><ul><li>通过post方式来向远程服务器提交数据。<br>html代码<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>这是一个发送post请求的按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    $(function()&#123;</span></span><br><span class="line"><span class="undefined">        $('button').click(function()&#123;</span></span><br><span class="line"><span class="undefined">            $.ajax(&#123;</span></span><br><span class="line"><span class="undefined">                url:'./php/ajax-post.php',</span></span><br><span class="line"><span class="undefined">                type:'post',//这里的传输方式改成了post</span></span><br><span class="line"><span class="undefined">                data:'name=hsl&amp;age=18',</span></span><br><span class="line"><span class="undefined">                success:function(msg)&#123;</span></span><br><span class="line"><span class="undefined">                    alert(msg);</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                error:function(xhr)&#123;</span></span><br><span class="line"><span class="undefined">                    alert(xhr);</span></span><br><span class="line"><span class="undefined">                &#125;             </span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>php代码<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> $_POST[<span class="string">'name'</span>];</span><br><span class="line"><span class="keyword">echo</span> $_POST[<span class="string">'age'</span>];</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p><p>可以看出上面的代码主要就是将<code>type</code> 从<code>get</code>改成了<code>post</code>，那效果会怎样呢.<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/1.LjjfZdyKXKBtldNxrnXL3Uzc3*ukvvi07p41je1jE!/b/dAcBAAAAAAAA&bo=gAcSBAAAAAADF6M!&rf=viewer_4"><br>从图片中我们可以看出使用post方式也成功获取了我们想要的数据，但是我们不能在url中看见我们传过去的参数，但是能在报文头中看见这些参数，因为不像get方式会在url栏传参数，所以也没有长度的限制。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>通过这次的学习，掌握了Ajax的基本用法，也通过实例了解了get方式与post方式的一些差别，二者以后要根据实际情况来使用。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Ajax技术可以说是随处可见，在网页的交互方面基本上都用到了Ajax，可以说Ajax作用是十分的强大，通过 Ajax，因特网应用程序可以变得更完善，更友好。所以作为正在学习的我来说，完整学习Ajax以及完全掌握Ajax是十分重要的。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>关于使用flex布局遇到的一个小问题</title>
    <link href="https://q32757468.github.io/2019/05/23/%E5%85%B3%E4%BA%8E%E4%BD%BF%E7%94%A8flex%E5%B8%83%E5%B1%80%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98/"/>
    <id>https://q32757468.github.io/2019/05/23/关于使用flex布局遇到的一个小问题/</id>
    <published>2019-05-23T10:52:16.000Z</published>
    <updated>2019-05-23T11:50:27.463Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;昨天在给我的课程设计的网站做底部信息的时候遇到了一个问题，就是我给一个子元素div设置了固定的宽度，但是当我页面宽度发生变化的时候，这个div的宽度也会发生变化，毕竟我设置的是固定的宽度，所以这肯定不是我想要的效果，今天和昨天经过测试，现在终于把问题解决了，问题是由于flex引起的。<br><a id="more"></a><br>让我们先看我的一个测试的代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.big</span>&#123;</span></span><br><span class="line"><span class="undefined">    width: 100%;</span></span><br><span class="line"><span class="undefined">    height: 500px;</span></span><br><span class="line"><span class="undefined">    background-color: blue;</span></span><br><span class="line"><span class="undefined">    display: flex;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span></span><br><span class="line"><span class="undefined">    justify-content: center;</span></span><br><span class="line"><span class="undefined">    align-items: center;</span></span><br><span class="line"><span class="undefined">    margin: 0 auto;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.sm</span>&#123;</span></span><br><span class="line"><span class="undefined">    width: 1200px;//这里是一个固定的宽度</span></span><br><span class="line"><span class="undefined">    height: 400px;</span></span><br><span class="line"><span class="undefined">    background-color: red;</span></span><br><span class="line"><span class="undefined">    text-align: center;</span></span><br><span class="line"><span class="undefined">    border: 3px solid yellow;//加了一个黄色边框，方便观察</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"big"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sm"</span>&gt;</span>这是测试的内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><p>按照我一开始的想法，既然设置了固定的宽度，应该就不会再发生改变了，即使是flex也不能改变它<br>可是我们再看看效果图：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/2ZasPfoD4Z310yCmjZUQP0cMgeDC6y.Fo6n5a.5emN8!/b/dFMBAAAAAAAA&bo=cwKaAwAAAAADB8o!&rf=viewer_4"><br>很明显，里面的子元素的宽度也因为父元素的宽度变小了而变小了。</p><p>我的第一次尝试是给它加一个<code>min-width=1200px</code>，我们再看看效果：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/2ZasPfoD4Z310yCmjZUQP0cMgeDC6y.Fo6n5a.5emN8!/b/dFMBAAAAAAAA&bo=cwKaAwAAAAADB8o!&rf=viewer_4"><br><strong>还是一样，没有发生任何变化。那究竟要怎么解决这个问题呢，经过我的各种尝试和猜想，最终还是把问题解决了：</strong><br>那么要如何解决这个问题呢，看我解决后的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.big&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 500px;</span><br><span class="line">    background-color: blue;</span><br><span class="line">    display: flex;</span><br><span class="line">    border: 2px solid #000;</span><br><span class="line">    /* justify-content: center; */  //1、首先就是不能用这个属性</span><br><span class="line">    align-items: center;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.sm&#123;</span><br><span class="line">    width: 1200px;</span><br><span class="line">    min-width: 1200px; //3、同时要加上最小宽度</span><br><span class="line">    height: 400px;</span><br><span class="line">    background-color: red;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 0 auto;    //2、只能使用这个来使子元素居中</span><br><span class="line">    border: 3px solid yellow;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;big&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;sm&quot;&gt;21413423&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p><p>我们再来看看解决后的效果图：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/mxkasvESB5M2s1EObpBHaY2h9PTMMEAIeIHgeyPzb50!/b/dDABAAAAAAAA&bo=TAOaAwAAAAADB*Q!&rf=viewer_4"><br>这次我们就可以看到，里面的内容没有被缩小了，问题终于得到了解决。</p><p><strong>其实还有一种办法可以避免这种问题，就是最外层子元素不使用flex布局，或者是不设置百分比的宽度，这样也不会出现这种问题，但是在有些情况下使用flex明显要方便很多，看实际情况选择哪种处理办法吧。</strong></p><p><strong>更新补充</strong><br>后来我又想到了一个相对较好的解决办法，那就使最外层的div可以设置为百分比的宽度，但是不设置flex，我们对要布局的子div给它再加一个父元素，让它变成孙子，我们给他加的这个div让他成为父元素，并且给这个父元素设置flex和固定的我们想要的宽度，这个时候通过父元素的flex给孙子元素flex布局就也不会出现这种问题了，这也是一种不错的解决办法（<strong>推荐</strong>）</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>flex虽然好用，很多方面用起来很方便，但是也存在很多问题我还不知道，所以使用的时候要提前做好规划，避免出现问题，我的轮播图bug就是由于flex布局引起的，但是不知道是不是这个原因。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;昨天在给我的课程设计的网站做底部信息的时候遇到了一个问题，就是我给一个子元素div设置了固定的宽度，但是当我页面宽度发生变化的时候，这个div的宽度也会发生变化，毕竟我设置的是固定的宽度，所以这肯定不是我想要的效果，今天和昨天经过测试，现在终于把问题解决了，问题是由于flex引起的。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>初识cookie</title>
    <link href="https://q32757468.github.io/2019/05/21/%E5%88%9D%E8%AF%86cookie/"/>
    <id>https://q32757468.github.io/2019/05/21/初识cookie/</id>
    <published>2019-05-21T07:24:59.000Z</published>
    <updated>2019-05-21T08:09:02.433Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;即使在我学习前端知识前，作为一个网络用户，我也见过cookie，但是它究竟是干什么的，有什么用，这是我以前所不知道的，但是我现在作为一名前端学习者，那么就要了解并学习cookie的相关知识，并且会使用它。<br><a id="more"></a></p></blockquote><h3 id="什么是cookie？"><a href="#什么是cookie？" class="headerlink" title="什么是cookie？"></a>什么是cookie？</h3><p>这是百度百科上的一段话：Cookie，有时也用其复数形式 Cookies，指某些网站为了辨别用户身份、进行 session 跟踪而储存在用户本地终端上的数据（通常经过加密）。定义于 RFC2109 和 2965 中的都已废弃，最新取代的规范是 RFC6265 [1]  。（可以叫做浏览器缓存）</p><p>我们就可以了解到cookie的作用，cookie就是存储了一些信息在本地，并且有一定的存在时间，cookie有这样的功能，就能给用户带来很多遍历，包括不用重复登录之类的。</p><h3 id="cookie的一些特点"><a href="#cookie的一些特点" class="headerlink" title="cookie的一些特点"></a>cookie的一些特点</h3><ul><li>cookie的生命周期：<br>·默认情况下是一次会话，也就是直到浏览器被关闭。<br>·如果通过expires设置了时间，并且时间还没有过期，那么关闭浏览器后下次再打开浏览器，cookie还是存在的。<br>·如果通过expires设置了时间，但是过期了，那么就会立即删除这个cookie，所以要删除一个cookie，只要让他过期就好了。</li></ul><ul><li><p>cookie数据的格式<br>·cookie默认是不会保存任何数据的。<br><code>document.cookie=&quot;name=hsl&quot;</code>可以通过这种方式来添加cookie<br>·在设置cookie时只能一条一条的设置，不能一条命令设置多条cookie。<br>cookie有大小和个数的限制：<br>个数：20~50<br>大小：4kb左右</p></li><li><p>cookie的作用范围<br>·不同浏览器之间的cookie不能共用<br>·同一浏览器中，存放cookie的路径的子目录可以访问保存的cookie，但是父目录不能。<br><code>document.cookie=&quot;name=hsl;path=/;&quot;</code>但是可以通过加上path等于根目录使网站下的所有目录都能访问cookie。<br>·默认情况下二级域名之间的cookie不能相互访问，但是设置了主域名之后就可以，<code>domain=hslweb.net</code>。</p></li></ul><h3 id="实际操作一下"><a href="#实际操作一下" class="headerlink" title="实际操作一下"></a>实际操作一下</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> data=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    data.setDate(data.getDate()+<span class="number">1</span>);<span class="comment">//设置时间</span></span><br><span class="line">    <span class="built_in">document</span>.cookie=<span class="string">"name=hsl;path=/;expires="</span>+data.toGMTString()+<span class="string">";"</span>;<span class="comment">//创建一个cookie，设置了路径以及过期的时间为后一天。</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>cookie的创建与设置还是很简单的，但是哦cookie的作用却很强大，要好好使用。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;即使在我学习前端知识前，作为一个网络用户，我也见过cookie，但是它究竟是干什么的，有什么用，这是我以前所不知道的，但是我现在作为一名前端学习者，那么就要了解并学习cookie的相关知识，并且会使用它。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>通过post方式上传文件</title>
    <link href="https://q32757468.github.io/2019/05/21/%E9%80%9A%E8%BF%87post%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6/"/>
    <id>https://q32757468.github.io/2019/05/21/通过post方式上传文件/</id>
    <published>2019-05-21T02:21:09.000Z</published>
    <updated>2019-05-21T03:19:52.215Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这次学习一下通过表单得到post方式来向后端上传文件，以及使用表单来上传文件的注意点及注意事项。<br><a id="more"></a><br>先上代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"post上传文件.php"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"upFile"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"tj"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><ul><li>这里之所以使用post方式上传而不使用get方式上传是因为get方式上传有文件大小方面的限制，最多2000个字符，所以使用post</li><li>很正常的一个表单，设置了控件类型以及与后端交互时要用到的name</li><li>但是要注意的是上传文件时除了要设置表单类型为 <code>file</code>之外，还需要给form添加一个<code>enctype</code>属性，并且把它的值设为<code>multipart/form-data</code>，只有这样才能正常上传。</li></ul><p>我们再来看看php部分的代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">print_r($_FILES);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">$fileInfo=$_FILES[<span class="string">'upFile'</span>];</span><br><span class="line">print_r($fileInfo);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p><p>这个时候我们就不能再使用post方式来获取文件的内容了，我们需要用file方式。<br>我么再来看看打印的结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Array ( [tj] =&gt; 提交 ) //这个时候post变量获取到的东西就不是我们想要的东西了。</span><br><span class="line">Array ( [upFile] =&gt; Array ( [name] =&gt; 后面问题.png [type] =&gt; image/png [tmp_name] =&gt; E:\xampp\tmp\phpDC76.tmp [error] =&gt; 0 [size] =&gt; 32458 ) )  //而通过file变量获取到的数组里面就有我们想要的东西</span><br><span class="line">Array ( [name] =&gt; 后面问题.png [type] =&gt; image/png [tmp_name] =&gt; E:\xampp\tmp\phpDC76.tmp [error] =&gt; 0 [size] =&gt; 32458 )</span><br><span class="line">//然后再从数组中取出我们想要的文件，就可以得到文件的信息。</span><br></pre></td></tr></table></figure></p><ul><li>但是其实这个时候也不是我们想要的结果，因为我们会发现 <code>E:\xampp\tmp\</code>这个目录下是空的，并没有我们上传的文件</li><li>这是因为这其实是一个临时文件夹，如果我们需要永久保存我们想要的内容我们需要将文件保存到我们自己建立的一个文件夹中。</li><li>这个时候我们就需要使用到这个函数<code>move_uploaded_file(file,newloc)</code><br>第一个参数规定文件的原路径，第二个参数规定文件的新路径已经文件名。</li></ul><p>下面将代码改进一下：<br>加上一行代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">move_uploaded_file($fileInfo[<span class="string">'tmp_name'</span>],<span class="string">"./test_imgs/"</span>.$fileInfo[<span class="string">'name'</span>]);</span><br></pre></td></tr></table></figure></p><p>这个时候我们再看设置的那个新路径，就已经成功将文件移动过来了。</p><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>上传文件的表单与其他表单有些许不一样，要多注意，获取内容的方法也不太一样，并且要注意<code>move_uploaded_file</code>函数的使用，第二个参数写相对路径的时候，如果是相对与当前路径开始的话一定不能遗漏了<code>./</code>来表示当前路径，比如我刚开始这样写就报错：<code>&quot;test_imgs/&quot;</code>,而这样写就是对的:<code>&quot;./test_imgs/&quot;</code>所以以后要多注意。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;这次学习一下通过表单得到post方式来向后端上传文件，以及使用表单来上传文件的注意点及注意事项。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>jQuery中eq与get的区别</title>
    <link href="https://q32757468.github.io/2019/05/20/jQuery%E4%B8%ADeq%E4%B8%8Eget%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>https://q32757468.github.io/2019/05/20/jQuery中eq与get的区别/</id>
    <published>2019-05-20T11:57:14.000Z</published>
    <updated>2019-05-20T12:22:23.228Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在刚开始学习使用jQuery的时候就遇到过类似的问题，没有完全理解到什么是jQuery对象以它与Element对象的区别。而jQuery中的eq方法与get方法正好也是这方面的区别，这次来好好把他们区分一下。<br><a id="more"></a><br>先上一段html代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span>这是一个测试div <span class="tag">&lt;<span class="name">span</span>&gt;</span>这是一个子元素<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span>这是第二个测试div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><p>js代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 通过这个可以看出使用核心函数选择div会将它转化成一个jQuery对象，jQuery对象的本质是一个数组对象，有length属性</span></span><br><span class="line">             <span class="built_in">console</span>.log(</span><br><span class="line">             $(<span class="string">'div'</span>)</span><br><span class="line">             );</span><br><span class="line">            <span class="comment">//  而我们通过get方法获取到的对象其实是一个Element对象</span></span><br><span class="line">             <span class="built_in">console</span>.log(</span><br><span class="line">             $(<span class="string">'div'</span>).get(<span class="number">0</span>)</span><br><span class="line">             );</span><br><span class="line">            <span class="comment">//  所以我们就可以对它使用js原生的方法来获取它的子节点</span></span><br><span class="line">            <span class="built_in">console</span>.log(</span><br><span class="line">             $(<span class="string">'div'</span>).get(<span class="number">0</span>).children[<span class="number">0</span>]</span><br><span class="line">             );</span><br><span class="line">            <span class="comment">//  而这种写法获取到的东西是和get所获取到的东西是一模一样的</span></span><br><span class="line">             <span class="built_in">console</span>.log(</span><br><span class="line">             $(<span class="string">'div'</span>)[<span class="number">1</span>]</span><br><span class="line">             );</span><br><span class="line">            <span class="comment">//  而通过eq获取到的其实是一个jQuery对象</span></span><br><span class="line">             <span class="built_in">console</span>.log(</span><br><span class="line">                 $(<span class="string">'div'</span>).eq(<span class="number">0</span>)</span><br><span class="line">             );</span><br><span class="line">            <span class="comment">//  我们亦可以通过jQuery的核心函数将Element对象转化成jQuery对象</span></span><br><span class="line">             <span class="built_in">console</span>.log(</span><br><span class="line">                $($(<span class="string">'div'</span>).get(<span class="number">0</span>))</span><br><span class="line">             );            </span><br><span class="line">        &#125;)   </span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><p>我们再来看看输出的结果:<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/s838PLLQqQDO8AAtICFTR2AbGzJ*Q9WLnphZ0VhyC4k!/b/dLYAAAAAAAAA&bo=UwdMAwAAAAADBzk!&rf=viewer_4"></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h3><p>eq与get的区别十分的明显,一个获取到的是jQuery对象,一个获取到的是Element对象,而我们的jQuery的方法只能对jQuery对象使用,所以我们要特别注意我们获取到的是什么对象,当然我们也可以通过jQuery核心函数将Element对象转化为jQuery对象.</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;在刚开始学习使用jQuery的时候就遇到过类似的问题，没有完全理解到什么是jQuery对象以它与Element对象的区别。而jQuery中的eq方法与get方法正好也是这方面的区别，这次来好好把他们区分一下。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>flex使用的小demo</title>
    <link href="https://q32757468.github.io/2019/05/18/flex%E4%BD%BF%E7%94%A8%E7%9A%84%E5%B0%8Fdemo/"/>
    <id>https://q32757468.github.io/2019/05/18/flex使用的小demo/</id>
    <published>2019-05-18T02:20:25.000Z</published>
    <updated>2019-05-18T03:15:54.552Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前面学习了flex的相关知识，现在就这些知识运用到实例，通过写一个导航栏和一个搜索框试试效果怎么样。<br><a id="more"></a></p></blockquote><h3 id="通过flex布局一个等分的导航栏"><a href="#通过flex布局一个等分的导航栏" class="headerlink" title="通过flex布局一个等分的导航栏"></a>通过flex布局一个等分的导航栏</h3><p>代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">*&#123;</span></span><br><span class="line"><span class="undefined">    margin: 0;</span></span><br><span class="line"><span class="undefined">    padding: 0;</span></span><br><span class="line"><span class="undefined">    list-style: none;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">nav&#123;</span></span><br><span class="line"><span class="undefined">    width: 40%;</span></span><br><span class="line"><span class="undefined">    height: 50px;</span></span><br><span class="line"><span class="undefined">    background: #ccc;</span></span><br><span class="line"><span class="undefined">    margin: 0 auto;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">nav&gt;ul&#123;</span></span><br><span class="line"><span class="undefined">    display: flex;</span></span><br><span class="line"><span class="undefined">    height: 100%;</span></span><br><span class="line"><span class="undefined">    width: 100%;</span></span><br><span class="line"><span class="undefined">    flex-flow: row nowrap;</span></span><br><span class="line"><span class="undefined">    /* justify-content: space-around; */</span></span><br><span class="line"><span class="undefined">    align-items: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/* 通过给子元素使用flex-grow会影响到父元素设置的justify-content，但是无论使用哪种方法都能达到相同的效果 */</span></span><br><span class="line"><span class="undefined">ul&gt;li&#123;</span></span><br><span class="line"><span class="undefined">    text-align: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/* 以下代码其实都可以不用，只通过一个justify-content: space-between</span></span><br><span class="line"><span class="undefined">就能达到这种效果 */</span></span><br><span class="line"><span class="undefined">ul&gt;li:nth-child(1)&#123;</span></span><br><span class="line"><span class="undefined">    flex: 0 0 auto;</span></span><br><span class="line"><span class="undefined">    text-align: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">ul&gt;li:nth-child(2)&#123;</span></span><br><span class="line"><span class="undefined">    flex: auto;</span></span><br><span class="line"><span class="undefined">    text-align: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">ul&gt;li:nth-child(3)&#123;</span></span><br><span class="line"><span class="undefined">    flex: auto;</span></span><br><span class="line"><span class="undefined">    text-align: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">ul&gt;li:nth-child(4)&#123;</span></span><br><span class="line"><span class="undefined">    flex: auto;</span></span><br><span class="line"><span class="undefined">    flex: 0 0 auto;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>栏目一<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>栏目二<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>栏目三<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>栏目四<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>效果图：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/9aN0kH42p89ZshFZG445MMLUZbbKvh2kT0Mrnf*1Ic0!/b/dL8AAAAAAAAA&bo=gAcSBAAAAAADB7M!&rf=viewer_4"></p><h3 id="通过flex布局一个搜索框"><a href="#通过flex布局一个搜索框" class="headerlink" title="通过flex布局一个搜索框"></a>通过flex布局一个搜索框</h3><p>代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">*&#123;</span></span><br><span class="line"><span class="undefined">    margin: 0;</span></span><br><span class="line"><span class="undefined">    padding: 0;</span></span><br><span class="line"><span class="undefined">    list-style: none;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">.search&#123;</span></span><br><span class="line"><span class="undefined">    margin: 0 auto;</span></span><br><span class="line"><span class="undefined">    margin-top: 20px;</span></span><br><span class="line"><span class="undefined">    width: 500px;</span></span><br><span class="line"><span class="undefined">    display: flex;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">input&#123;</span></span><br><span class="line"><span class="undefined">    /* 因为默认另一个button的flex-grow为0，</span></span><br><span class="line"><span class="undefined">    只要设置这个输入框的flex-grow为1则可以占满剩下的宽度 */</span></span><br><span class="line"><span class="undefined">    flex-grow: 1;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">button&#123;</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">    border: 0;</span></span><br><span class="line"><span class="undefined">    background-color: red;</span></span><br><span class="line"><span class="undefined">    outline: none;</span></span><br><span class="line"><span class="undefined">    height: 30px;</span></span><br><span class="line"><span class="undefined">    /* 当我们把button的高度调高之后，可以发现输入框的高度也一起随之升高了</span></span><br><span class="line"><span class="undefined">    如果想要改变这种效果可以对输入框设置align-self</span></span><br><span class="line"><span class="undefined">    */</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"search"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击搜索<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>效果图：<br><img src="http://m.qpic.cn/psb?/V131x4904WMIoW/3.gm02VccVxwuCAERv6LYnJUGtKjFXsv2EDCsdffn14!/b/dLYAAAAAAAAA&bo=gAcSBAAAAAADB7M!&rf=viewer_4"></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>使用flex布局真的好轻松，好方便啊，再也不用为各种繁琐的事情改开改去了。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;前面学习了flex的相关知识，现在就这些知识运用到实例，通过写一个导航栏和一个搜索框试试效果怎么样。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>CSS3_flex的使用</title>
    <link href="https://q32757468.github.io/2019/05/18/CSS3-flex%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://q32757468.github.io/2019/05/18/CSS3-flex的使用/</id>
    <published>2019-05-18T01:44:04.000Z</published>
    <updated>2019-05-18T02:18:20.489Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前段时间有了解到flex布局，flex布局是W3C再2009年提出的一种新的方案，且现在已经兼容所有的浏览器，传统的布局方式在有些时候会比较麻烦，且兼容性不是特别好，那么使用flex布局就能解决很多问题，这次来学习以下flex布局，并加以使用，以后熟练使用就能大大提高我们的布局效率。<br><a id="more"></a></p></blockquote><h3 id="Flex布局是什么？"><a href="#Flex布局是什么？" class="headerlink" title="Flex布局是什么？"></a>Flex布局是什么？</h3><p>Flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。<br>任何一个容器都可以指定为Flex布局。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>行内元素也可以使用Flex布局。</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">  display: inline-flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>Webkit内核的浏览器，必须加上-webkit前缀。</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">  display: -webkit-flex; /* Safari */</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><em>注意:设为Flex布局以后，子元素的float、clear和vertical-align属性将失效。</em></p><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>采用Flex布局的元素，称为Flex容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称”项目”。<br><img src="https://www.runoob.com/wp-content/uploads/2015/07/3791e575c48b3698be6a94ae1dbff79d.png"><br>容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；交叉轴的开始位置叫做cross start，结束位置叫做cross end。<br>项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。</p><h3 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h3><p>容器有以下6个属性：</p><ul><li>flex-direction</li><li>flex-wrap</li><li>flex-flow</li><li>justify-content</li><li>align-items</li><li>align-content</li></ul><h4 id="flex-direction属性"><a href="#flex-direction属性" class="headerlink" title="flex-direction属性"></a>flex-direction属性</h4><p>flex-direction属性决定主轴的方向（即项目的排列方向）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  flex-direction: row | row-reverse | column | column-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/0cbe5f8268121114e87d0546e53cda6e.png"></p><p>可能有4个值：</p><ul><li>row（默认值）：主轴为水平方向，起点在左端。</li><li>row-reverse：主轴为水平方向，起点在右端。</li><li>column：主轴为垂直方向，起点在上沿。</li><li>column-reverse：主轴为垂直方向，起点在下沿。</li></ul><h4 id="flex-wrap属性"><a href="#flex-wrap属性" class="headerlink" title="flex-wrap属性"></a>flex-wrap属性</h4><p>默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行。<br><img src="https://www.runoob.com/wp-content/uploads/2015/07/903d5b7df55779c03f2687a7d4d6bcea.png"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">  flex-wrap: nowrap | wrap | wrap-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>它可能取三个值:</p><ul><li>nowrap（默认）：不换行。<br><img src="https://www.runoob.com/wp-content/uploads/2015/07/9da1f23965756568b4c6ea7124db7b9a.png"></li><li>wrap：换行，第一行在上方。<br><img src="https://www.runoob.com/wp-content/uploads/2015/07/3c6b3c8b8fe5e26bca6fb57538cf72d9.jpg"></li><li>wrap-reverse：换行，第一行在下方。<br><img src="https://www.runoob.com/wp-content/uploads/2015/07/fb4cf2bab8b6b744b64f6d7a99cd577c.jpg"></li></ul><h4 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h4><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  flex-flow: &lt;flex-direction&gt; &lt;flex-wrap&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h4><p>justify-content属性定义了项目在主轴上的对齐方式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  justify-content: flex-start | flex-end | center | space-between | space-around;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/c55dfe8e3422458b50e985552ef13ba5.png"></p><ul><li>可能取5个值，与主轴方向有关（以下假设主轴从左向右）：</li><li>flex-start（默认值）：左对齐</li><li>flex-end：右对齐</li><li>center： 居中</li><li>space-between：两端对齐，项目之间的间隔都相等。  （在做菜单栏导航栏等需要间隔相等的项目中十分有用）</li><li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</li></ul><h4 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a>align-items属性</h4><p>align-items属性定义项目在交叉轴上如何对齐。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  align-items: flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/2b0c39c7e7a80d5a784c8c2ca63cde17.png"></p><p>可能取5个值，与交叉轴方向有关（以下假设主轴从上向下）</p><ul><li>flex-start：交叉轴的起点对齐。</li><li>flex-end：交叉轴的终点对齐。</li><li>center：交叉轴的中点对齐。</li><li>baseline: 项目的第一行文字的基线对齐。</li><li>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。</li></ul><h4 id="align-content属性"><a href="#align-content属性" class="headerlink" title="align-content属性"></a>align-content属性</h4><p>align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  align-content: flex-start | flex-end | center | space-between | space-around | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/f10918ccb8a13247c9d47715a2bd2c33.png"><br>该属性可能取6个值：</p><ul><li>flex-start：与交叉轴的起点对齐。</li><li>flex-end：与交叉轴的终点对齐。</li><li>center：与交叉轴的中点对齐。</li><li>space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。</li><li>space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</li><li>stretch（默认值）：轴线占满整个交叉轴。</li></ul><h3 id="项目的属性"><a href="#项目的属性" class="headerlink" title="项目的属性"></a>项目的属性</h3><p>以下6个属性设置在项目上。</p><ul><li>order</li><li>flex-grow</li><li>flex-shrink</li><li>flex-basis</li><li>flex</li><li>align-self</li></ul><h4 id="order属性"><a href="#order属性" class="headerlink" title="order属性"></a>order属性</h4><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  order: &lt;integer&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/59e399c72daafcfcc20ede36bf32f266.png"></p><h4 id="flex-grow属性"><a href="#flex-grow属性" class="headerlink" title="flex-grow属性"></a>flex-grow属性</h4><p>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  flex-grow: &lt;number&gt;; /* default 0 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/f41c08bb35962ed79e7686f735d6cd78.png"><br>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p><h4 id="flex-shrink属性"><a href="#flex-shrink属性" class="headerlink" title="flex-shrink属性"></a>flex-shrink属性</h4><p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  flex-shrink: &lt;number&gt;; /* default 1 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/240d3e960043a729bb3ff5e34987904f.jpg"><br>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。<br>负值对该属性无效。</p><h4 id="flex-basis属性"><a href="#flex-basis属性" class="headerlink" title="flex-basis属性"></a>flex-basis属性</h4><p>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  flex-basis: &lt;length&gt; | auto; /* default auto */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p><h4 id="flex属性"><a href="#flex属性" class="headerlink" title="flex属性"></a>flex属性</h4><p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  flex: none | [ &lt;&apos;flex-grow&apos;&gt; &lt;&apos;flex-shrink&apos;&gt;? || &lt;&apos;flex-basis&apos;&gt; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。<br>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p><h4 id="align-self属性"><a href="#align-self属性" class="headerlink" title="align-self属性"></a>align-self属性</h4><p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  align-self: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><img src="https://www.runoob.com/wp-content/uploads/2015/07/55b19171b8b6b9487d717bf2ecbba6de.png"><br>该属性可能取6个值，除了auto，其他都与align-items属性完全一致。</p><p>文章转载自：<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;前段时间有了解到flex布局，flex布局是W3C再2009年提出的一种新的方案，且现在已经兼容所有的浏览器，传统的布局方式在有些时候会比较麻烦，且兼容性不是特别好，那么使用flex布局就能解决很多问题，这次来学习以下flex布局，并加以使用，以后熟练使用就能大大提高我们的布局效率。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>jQuery学习（动画效果）</title>
    <link href="https://q32757468.github.io/2019/05/15/jQuery%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%EF%BC%89/"/>
    <id>https://q32757468.github.io/2019/05/15/jQuery学习（动画效果）/</id>
    <published>2019-05-15T11:30:50.000Z</published>
    <updated>2019-05-15T12:32:29.660Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这次总结以下jQuery中所有自带的动画效果以及jQuery中的自定义动画，以及动画1的其他一些相关方法，帮助我们更好的学习和使用jQuery中的动画。前面已经学习使用过大部分自带动画了，这次着重讲一下自定义动画与其他方法。<br><a id="more"></a></p></blockquote><h3 id="显示、隐藏动画"><a href="#显示、隐藏动画" class="headerlink" title="显示、隐藏动画"></a>显示、隐藏动画</h3><p>show([s,[e],[fn]])</p><ul><li>显示动画</li><li>内部实现原理根据当前操作的元素是块级还是行内决定, 块级内部调用display:block;,行内内部调用display:inline;</li></ul><hr><p> hide([s,[e],[fn]])</p><ul><li>隐藏动画</li></ul><hr><p>toggle([spe],[eas],[fn])</p><ul><li>切换动画(显示变隐藏,隐藏变显示)</li></ul><hr><p>注意事项:</p><ul><li>show(1000, function () {};) 第一个参数单位是毫秒, 1000毫秒等于1秒</li><li>默认的动画时长是400毫秒</li><li>除了指定毫秒以外还可以指定三个预设参数 slow、normal、fast</li><li>slow本质是600毫秒</li><li>normal本质是400毫秒</li><li>fast本质是200毫秒</li></ul><h3 id="展开、收起动画"><a href="#展开、收起动画" class="headerlink" title="展开、收起动画"></a>展开、收起动画</h3><p>参数、注意事项和显示隐藏动画一模一样, 只不过动画效果不一样而已</p><ul><li>slideDown([s],[e],[fn])<br>展开动画</li><li>slideUp([s,[e],[fn]])<br>收起动画</li><li>slideToggle([s],[e],[fn])<br>切换动画(展开变收起,收起变展开)<br>参数、注意事项和显示隐藏动画一模一样, 只不过动画效果不一样而已</li><li>fadeIn([s],[e],[fn])<br>淡入动画</li><li>fadeOut([s],[e],[fn])<br>淡出动画</li><li>fadeToggle([s,[e],[fn]])<br>切换动画(显示变淡出,不显示变淡入)</li><li>fadeTo([[s],o,[e],[fn]])<br>淡入到指定透明度动画<br>可以通过第二个参数,淡入到指定的透明度(取值范围0~1)</li></ul><h3 id="自定义动画"><a href="#自定义动画" class="headerlink" title="自定义动画"></a>自定义动画</h3><p>有时候自带的这些动画不能完全满足我们的需求，我们就需要使用到自定义动画来帮助我们完成动画。</p><p>animate(p,[s],[e],[fn])</p><ul><li>第一个参数: 接收一个对象, 可以在对象中修改属性</li><li>第二个参数: 指定动画时长</li><li>第三个参数: 指定动画节奏, 默认就是swing</li><li>第四个参数: 动画执行完毕之后的回调函数<br>下面是一个自定义动画的例子：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.test</span>&#123;</span></span><br><span class="line"><span class="undefined">    background: red;</span></span><br><span class="line"><span class="undefined">    width: 200px;</span></span><br><span class="line"><span class="undefined">    height: 200px;</span></span><br><span class="line"><span class="undefined">    border-radius: 50%;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 使圆变大</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.test'</span>).animate(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 可以同时设置多个值的变化</span></span></span><br><span class="line"><span class="undefined">            width:400,</span></span><br><span class="line"><span class="undefined">            height:400,</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 可以设置动画节奏</span></span></span><br><span class="line"><span class="javascript">        &#125;,<span class="number">2000</span>,<span class="string">'Linear'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 可以链式设置多个动画</span></span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'变大执行完毕'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;).animate(&#123;</span></span><br><span class="line"><span class="undefined">            marginLeft:200</span></span><br><span class="line"><span class="javascript">        &#125;,<span class="number">2000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'右移执行完毕'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;).animate(&#123;</span></span><br><span class="line"><span class="javascript">            marginLeft:<span class="string">"800"</span></span></span><br><span class="line"><span class="javascript">        &#125;,<span class="number">2000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'完成'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>要注意的一点:<br>每次开始运动都必须是初始位置或者初始状态,如果想在上一次位置或者状态下再次进行动画可以使用累加动画,上面这个例子就是圆先变大,然后在变大之前的圆心处右移,然后再回到圆心处再次右移,所以要使用累计动画的方式来设置参数比如说<code>{marginLeft:&quot;+=200&quot;}</code></p><h3 id="动画队列"><a href="#动画队列" class="headerlink" title="动画队列"></a>动画队列</h3><ul><li>多个动画方法链式编程,会等到前面的动画执行完毕再依次执行后续动画</li><li>但是如果后面紧跟一个非动画方法则会被立即执行</li><li>如果想颜色再动画执行完毕之后设置, 1.使用回调 2.使用动画队列</li><li>注意点:<br>动画队列方法queue()后面不能继续直接添加queue()<br>如果想继续添加必须在上一个queue()方法中next()方法</li></ul><h3 id="动画相关方法"><a href="#动画相关方法" class="headerlink" title="动画相关方法"></a>动画相关方法</h3><ul><li>delay(d,[q])<br>设置动画延迟时长</li><li>stop([c],[j])<br>停止指定元素上正在执行的动画<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 立即停止当前动画, 继续执行后续的动画</span><br><span class="line">// $(&quot;div&quot;).stop();</span><br><span class="line">// $(&quot;div&quot;).stop(false);</span><br><span class="line">// $(&quot;div&quot;).stop(false, false);</span><br><span class="line"></span><br><span class="line">// 立即停止当前和后续所有的动画</span><br><span class="line">// $(&quot;div&quot;).stop(true);</span><br><span class="line">// $(&quot;div&quot;).stop(true, false);</span><br><span class="line"></span><br><span class="line">// 立即完成当前的, 继续执行后续动画</span><br><span class="line">// $(&quot;div&quot;).stop(false, true);</span><br><span class="line"></span><br><span class="line">// 立即完成当前的, 并且停止后续所有的</span><br><span class="line">$(&quot;div&quot;).stop(true, true);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;这次总结以下jQuery中所有自带的动画效果以及jQuery中的自定义动画，以及动画1的其他一些相关方法，帮助我们更好的学习和使用jQuery中的动画。前面已经学习使用过大部分自带动画了，这次着重讲一下自定义动画与其他方法。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Chrome插件(扩展)开发全攻略</title>
    <link href="https://q32757468.github.io/2019/05/15/Chrome%E6%8F%92%E4%BB%B6(%E6%89%A9%E5%B1%95)%E5%BC%80%E5%8F%91%E5%85%A8%E6%94%BB%E7%95%A5/"/>
    <id>https://q32757468.github.io/2019/05/15/Chrome插件(扩展)开发全攻略/</id>
    <published>2019-05-15T08:14:47.000Z</published>
    <updated>2019-05-15T11:27:39.605Z</updated>
    
    <content type="html"><![CDATA[<h1>写在前面</h1><p>这篇文章来自于转载，作者花了许多时间编写，写的也很详细，也很辛苦，我已经在文章尾部标明，也感谢作者的分享，<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html" target="_blank" rel="noopener">这是文章原地址</a>以下是作者原文：来源我花了将近一个多月的时间断断续续写下这篇博文，并精心写下完整demo，写博客的辛苦大家懂的，所以转载务必保留<a href="http://blog.haoji.me/chrome-plugin-develop.html" target="_blank">出处</a>。本文所有涉及到的大部分代码均在这个demo里面：<a href="https://github.com/sxei/chrome-plugin-demo" class="uri" target="_blank">https://github.com/sxei/chrome-plugin-demo</a> ，大家可以直接下载下来运行。</p><a id="more"></a><p>另外，本文图片较多，且图片服务器带宽有限，右下角的目录滚动监听必须等到图片全部加载完毕之后才会触发，所以请耐心等待加载完毕。</p><p>本文目录：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711100228759-367621595.png"><p>demo部分截图：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711100429118-918303767.png"><h1 id="前言">前言</h1><h2 id="什么是chrome插件">2.1. 什么是Chrome插件</h2><p>严格来讲，我们正在说的东西应该叫Chrome扩展(<code>Chrome Extension</code>)，真正意义上的Chrome插件是更底层的浏览器功能扩展，可能需要对浏览器源码有一定掌握才有能力去开发。鉴于Chrome插件的叫法已经习惯，本文也全部采用这种叫法，但读者需深知本文所描述的Chrome插件实际上指的是Chrome扩展。</p><p>Chrome插件是一个用Web技术开发、用来增强浏览器功能的软件，它其实就是一个由HTML、CSS、JS、图片等资源组成的一个<a href="https://developer.chrome.com/extensions/crx" target="_blank">.crx</a>后缀的压缩包.</p><p>个人猜测<code>crx</code>可能是<code>Chrome Extension</code>如下3个字母的简写：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711100448275-555008903.png"><p>另外，其实不只是前端技术，Chrome插件还可以配合C++编写的dll动态链接库实现一些更底层的功能(NPAPI)，比如全屏幕截图。</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711100549040-348646504.png"><blockquote><p>由于安全原因，Chrome浏览器42以上版本已经陆续不再支持NPAPI插件，取而代之的是更安全的PPAPI。</p></blockquote><h2 id="学习chrome插件开发有什么意义">2.2. 学习Chrome插件开发有什么意义</h2><p>增强浏览器功能，轻松实现属于自己的“定制版”浏览器，等等。</p><p>Chrome插件提供了很多实用API供我们使用，包括但不限于：</p><ul><li>书签控制；</li><li>下载控制；</li><li>窗口控制；</li><li>标签控制；</li><li>网络请求控制，各类事件监听；</li><li>自定义原生菜单；</li><li>完善的通信机制；</li><li>等等；</li></ul><h2 id="为什么是chrome插件而不是firefox插件">2.3. 为什么是Chrome插件而不是Firefox插件</h2><ol><li>Chrome占有率更高，更多人用；</li><li>开发更简单；</li><li>应用场景更广泛，Firefox插件只能运行在Firefox上，而Chrome除了Chrome浏览器之外，还可以运行在所有webkit内核的国产浏览器，比如360极速浏览器、360安全浏览器、搜狗浏览器、QQ浏览器等等；</li><li>除此之外，Firefox浏览器也对Chrome插件的运行提供了一定的支持；</li></ol><h1 id="开发与调试">开发与调试</h1><p>Chrome插件没有严格的项目结构要求，只要保证本目录有一个<code>manifest.json</code>即可，也不需要专门的IDE，普通的web开发工具即可。</p><p>从右上角菜单-&gt;更多工具-&gt;扩展程序可以进入 插件管理页面，也可以直接在地址栏输入 <a href="chrome://extensions/" target="_blank">chrome://extensions</a> 访问。</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101025931-1366345527.png"><p>勾选<code>开发者模式</code>即可以文件夹的形式直接加载插件，否则只能安装<code>.crx</code>格式的文件。Chrome要求插件必须从它的Chrome应用商店安装，其它任何网站下载的都无法直接安装，所以，其实我们可以把<code>crx</code>文件解压，然后通过开发者模式直接加载。</p><p>开发中，代码有任何改动都必须重新加载插件，只需要在插件管理页按下<code>Ctrl+R</code>即可，以防万一最好还把页面刷新一下。</p><h1 id="核心介绍">核心介绍</h1><h2 id="manifest.json">4.1. manifest.json</h2><p>这是一个Chrome插件最重要也是必不可少的文件，用来配置所有和插件相关的配置，必须放在根目录。其中，<code>manifest_version</code>、<code>name</code>、<code>version</code>3个是必不可少的，<code>description</code>和<code>icons</code>是推荐的。</p><p>下面给出的是一些常见的配置项，均有中文注释，完整的配置文档请戳<a href="https://developer.chrome.com/extensions/manifest" target="_blank">这里</a>。</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// 清单文件的版本，这个必须写，而且必须是2</span>    <span class="hljs-string">"manifest_version"</span>: <span class="hljs-number">2</span>,    <span class="hljs-comment">// 插件的名称</span>    <span class="hljs-string">"name"</span>: <span class="hljs-string">"demo"</span>,    <span class="hljs-comment">// 插件的版本</span>    <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,    <span class="hljs-comment">// 插件描述</span>    <span class="hljs-string">"description"</span>: <span class="hljs-string">"简单的Chrome扩展demo"</span>,    <span class="hljs-comment">// 图标，一般偷懒全部用一个尺寸的也没问题</span>    <span class="hljs-string">"icons"</span>:    {        <span class="hljs-string">"16"</span>: <span class="hljs-string">"img/icon.png"</span>,        <span class="hljs-string">"48"</span>: <span class="hljs-string">"img/icon.png"</span>,        <span class="hljs-string">"128"</span>: <span class="hljs-string">"img/icon.png"</span>    },    <span class="hljs-comment">// 会一直常驻的后台JS或后台页面</span>    <span class="hljs-string">"background"</span>:    {        <span class="hljs-comment">// 2种指定方式，如果指定JS，那么会自动生成一个背景页</span>        <span class="hljs-string">"page"</span>: <span class="hljs-string">"background.html"</span>        <span class="hljs-comment">//"scripts": ["js/background.js"]</span>    },    <span class="hljs-comment">// 浏览器右上角图标设置，browser_action、page_action、app必须三选一</span>    <span class="hljs-string">"browser_action"</span>:     {        <span class="hljs-string">"default_icon"</span>: <span class="hljs-string">"img/icon.png"</span>,        <span class="hljs-comment">// 图标悬停时的标题，可选</span>        <span class="hljs-string">"default_title"</span>: <span class="hljs-string">"这是一个示例Chrome插件"</span>,        <span class="hljs-string">"default_popup"</span>: <span class="hljs-string">"popup.html"</span>    },    <span class="hljs-comment">// 当某些特定页面打开才显示的图标</span>    <span class="hljs-comment">/*"page_action":    {        "default_icon": "img/icon.png",        "default_title": "我是pageAction",        "default_popup": "popup.html"    },*/</span>    <span class="hljs-comment">// 需要直接注入页面的JS</span>    <span class="hljs-string">"content_scripts"</span>:     [        {            <span class="hljs-comment">//"matches": ["http://*/*", "https://*/*"],</span>            <span class="hljs-comment">// "&lt;all_urls&gt;" 表示匹配所有地址</span>            <span class="hljs-string">"matches"</span>: [<span class="hljs-string">"&lt;all_urls&gt;"</span>],            <span class="hljs-comment">// 多个JS按顺序注入</span>            <span class="hljs-string">"js"</span>: [<span class="hljs-string">"js/jquery-1.8.3.js"</span>, <span class="hljs-string">"js/content-script.js"</span>],            <span class="hljs-comment">// JS的注入可以随便一点，但是CSS的注意就要千万小心了，因为一不小心就可能影响全局样式</span>            <span class="hljs-string">"css"</span>: [<span class="hljs-string">"css/custom.css"</span>],            <span class="hljs-comment">// 代码注入的时间，可选值： "document_start", "document_end", or "document_idle"，最后一个表示页面空闲时，默认document_idle</span>            <span class="hljs-string">"run_at"</span>: <span class="hljs-string">"document_start"</span>        },        <span class="hljs-comment">// 这里仅仅是为了演示content-script可以配置多个规则</span>        {            <span class="hljs-string">"matches"</span>: [<span class="hljs-string">"*://*/*.png"</span>, <span class="hljs-string">"*://*/*.jpg"</span>, <span class="hljs-string">"*://*/*.gif"</span>, <span class="hljs-string">"*://*/*.bmp"</span>],            <span class="hljs-string">"js"</span>: [<span class="hljs-string">"js/show-image-content-size.js"</span>]        }    ],    <span class="hljs-comment">// 权限申请</span>    <span class="hljs-string">"permissions"</span>:    [        <span class="hljs-string">"contextMenus"</span>, <span class="hljs-comment">// 右键菜单</span>        <span class="hljs-string">"tabs"</span>, <span class="hljs-comment">// 标签</span>        <span class="hljs-string">"notifications"</span>, <span class="hljs-comment">// 通知</span>        <span class="hljs-string">"webRequest"</span>, <span class="hljs-comment">// web请求</span>        <span class="hljs-string">"webRequestBlocking"</span>,        <span class="hljs-string">"storage"</span>, <span class="hljs-comment">// 插件本地存储</span>        <span class="hljs-string">"http://*/*"</span>, <span class="hljs-comment">// 可以通过executeScript或者insertCSS访问的网站</span>        <span class="hljs-string">"https://*/*"</span> <span class="hljs-comment">// 可以通过executeScript或者insertCSS访问的网站</span>    ],    <span class="hljs-comment">// 普通页面能够直接访问的插件资源列表，如果不设置是无法直接访问的</span>    <span class="hljs-string">"web_accessible_resources"</span>: [<span class="hljs-string">"js/inject.js"</span>],    <span class="hljs-comment">// 插件主页，这个很重要，不要浪费了这个免费广告位</span>    <span class="hljs-string">"homepage_url"</span>: <span class="hljs-string">"https://www.baidu.com"</span>,    <span class="hljs-comment">// 覆盖浏览器默认页面</span>    <span class="hljs-string">"chrome_url_overrides"</span>:    {        <span class="hljs-comment">// 覆盖浏览器默认的新标签页</span>        <span class="hljs-string">"newtab"</span>: <span class="hljs-string">"newtab.html"</span>    },    <span class="hljs-comment">// Chrome40以前的插件配置页写法</span>    <span class="hljs-string">"options_page"</span>: <span class="hljs-string">"options.html"</span>,    <span class="hljs-comment">// Chrome40以后的插件配置页写法，如果2个都写，新版Chrome只认后面这一个</span>    <span class="hljs-string">"options_ui"</span>:    {        <span class="hljs-string">"page"</span>: <span class="hljs-string">"options.html"</span>,        <span class="hljs-comment">// 添加一些默认的样式，推荐使用</span>        <span class="hljs-string">"chrome_style"</span>: <span class="hljs-literal">true</span>    },    <span class="hljs-comment">// 向地址栏注册一个关键字以提供搜索建议，只能设置一个关键字</span>    <span class="hljs-string">"omnibox"</span>: { <span class="hljs-string">"keyword"</span> : <span class="hljs-string">"go"</span> },    <span class="hljs-comment">// 默认语言</span>    <span class="hljs-string">"default_locale"</span>: <span class="hljs-string">"zh_CN"</span>,    <span class="hljs-comment">// devtools页面入口，注意只能指向一个HTML文件，不能是JS文件</span>    <span class="hljs-string">"devtools_page"</span>: <span class="hljs-string">"devtools.html"</span>}</code></pre><h2 id="content-scripts">4.2. content-scripts</h2><p>所谓<a href="https://developer.chrome.com/extensions/content_scripts" target="_blank">content-scripts</a>，其实就是Chrome插件中向页面注入脚本的一种形式（虽然名为script，其实还可以包括css的），借助<code>content-scripts</code>我们可以实现通过配置的方式轻松向指定页面注入JS和CSS（如果需要动态注入，可以参考下文），最常见的比如：广告屏蔽、页面CSS定制，等等。</p><p>示例配置：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// 需要直接注入页面的JS</span>    <span class="hljs-string">"content_scripts"</span>:     [        {            <span class="hljs-comment">//"matches": ["http://*/*", "https://*/*"],</span>            <span class="hljs-comment">// "&lt;all_urls&gt;" 表示匹配所有地址</span>            <span class="hljs-string">"matches"</span>: [<span class="hljs-string">"&lt;all_urls&gt;"</span>],            <span class="hljs-comment">// 多个JS按顺序注入</span>            <span class="hljs-string">"js"</span>: [<span class="hljs-string">"js/jquery-1.8.3.js"</span>, <span class="hljs-string">"js/content-script.js"</span>],            <span class="hljs-comment">// JS的注入可以随便一点，但是CSS的注意就要千万小心了，因为一不小心就可能影响全局样式</span>            <span class="hljs-string">"css"</span>: [<span class="hljs-string">"css/custom.css"</span>],            <span class="hljs-comment">// 代码注入的时间，可选值： "document_start", "document_end", or "document_idle"，最后一个表示页面空闲时，默认document_idle</span>            <span class="hljs-string">"run_at"</span>: <span class="hljs-string">"document_start"</span>        }    ],}</code></pre><p>特别注意，如果没有主动指定<code>run_at</code>为<code>document_start</code>（默认为<code>document_idle</code>），下面这种代码是不会生效的：</p><pre class="javascript"><code class="hljs"><span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'我被执行了！'</span>);});</code></pre><p><code>content-scripts</code>和原始页面共享DOM，但是不共享JS，如要访问页面JS（例如某个JS变量），只能通过<code>injected js</code>来实现。<code>content-scripts</code>不能访问绝大部分<code>chrome.xxx.api</code>，除了下面这4种：</p><ul><li>chrome.extension(getURL , inIncognitoContext , lastError , onRequest , sendRequest)</li><li>chrome.i18n</li><li>chrome.runtime(connect , getManifest , getURL , id , onConnect , onMessage , sendMessage)</li><li>chrome.storage</li></ul><p>其实看到这里不要悲观，这些API绝大部分时候都够用了，非要调用其它API的话，你还可以通过通信来实现让background来帮你调用（关于通信，后文有详细介绍）。</p><p>好了，Chrome插件给我们提供了这么强大的JS注入功能，剩下的就是发挥你的想象力去玩弄浏览器了。</p><h2 id="background">4.3. background</h2><p>后台（姑且这么翻译吧），是一个常驻的页面，它的生命周期是插件中所有类型页面中最长的，它随着浏览器的打开而打开，随着浏览器的关闭而关闭，所以通常把需要一直运行的、启动就运行的、全局的代码放在background里面。</p><p>background的权限非常高，几乎可以调用所有的Chrome扩展API（除了devtools），而且它可以无限制跨域，也就是可以跨域访问任何网站而无需要求对方设置<code>CORS</code>。</p><blockquote><p>经过测试，其实不止是background，所有的直接通过<code>chrome-extension://id/xx.html</code>这种方式打开的网页都可以无限制跨域。</p></blockquote><p>配置中，<code>background</code>可以通过<code>page</code>指定一张网页，也可以通过<code>scripts</code>直接指定一个JS，Chrome会自动为这个JS生成一个默认的网页：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// 会一直常驻的后台JS或后台页面</span>    <span class="hljs-string">"background"</span>:    {        <span class="hljs-comment">// 2种指定方式，如果指定JS，那么会自动生成一个背景页</span>        <span class="hljs-string">"page"</span>: <span class="hljs-string">"background.html"</span>        <span class="hljs-comment">//"scripts": ["js/background.js"]</span>    },}</code></pre><p>需要特别说明的是，虽然你可以通过<code>chrome-extension://xxx/background.html</code>直接打开后台页，但是你打开的后台页和真正一直在后台运行的那个页面不是同一个，换句话说，你可以打开无数个<code>background.html</code>，但是真正在后台常驻的只有一个，而且这个你永远看不到它的界面，只能调试它的代码。</p><h2 id="event-pages">4.4. event-pages</h2><p>这里顺带介绍一下<a href="https://developer.chrome.com/extensions/event_pages" target="_blank">event-pages</a>，它是一个什么东西呢？鉴于background生命周期太长，长时间挂载后台可能会影响性能，所以Google又弄一个<code>event-pages</code>，在配置文件上，它与background的唯一区别就是多了一个<code>persistent</code>参数：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-string">"background"</span>:    {        <span class="hljs-string">"scripts"</span>: [<span class="hljs-string">"event-page.js"</span>],        <span class="hljs-string">"persistent"</span>: <span class="hljs-literal">false</span>    },}</code></pre><p>它的生命周期是：在被需要时加载，在空闲时被关闭，什么叫被需要时呢？比如第一次安装、插件更新、有content-script向它发送消息，等等。</p><p>除了配置文件的变化，代码上也有一些细微变化，个人这个简单了解一下就行了，一般情况下background也不会很消耗性能的。</p><h2 id="popup">4.5. popup</h2><p><code>popup</code>是点击<code>browser_action</code>或者<code>page_action</code>图标时打开的一个小窗口网页，焦点离开网页就立即关闭，一般用来做一些临时性的交互。</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101054353-176942304.png" alt="博客园网摘插件popup效果"><p></p><p><code>popup</code>可以包含任意你想要的HTML内容，并且会自适应大小。可以通过<code>default_popup</code>字段来指定popup页面，也可以调用<code>setPopup()</code>方法。</p><p>配置方式：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-string">"browser_action"</span>:    {        <span class="hljs-string">"default_icon"</span>: <span class="hljs-string">"img/icon.png"</span>,        <span class="hljs-comment">// 图标悬停时的标题，可选</span>        <span class="hljs-string">"default_title"</span>: <span class="hljs-string">"这是一个示例Chrome插件"</span>,        <span class="hljs-string">"default_popup"</span>: <span class="hljs-string">"popup.html"</span>    }}</code></pre><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101114415-2019243064.png"><p>需要特别注意的是，由于单击图标打开popup，焦点离开又立即关闭，所以popup页面的生命周期一般很短，需要长时间运行的代码千万不要写在popup里面。</p><p>在权限上，它和background非常类似，它们之间最大的不同是生命周期的不同，popup中可以直接通过<code>chrome.extension.getBackgroundPage()</code>获取background的window对象。</p><h2 id="injected-script">4.6. injected-script</h2><p>这里的<code>injected-script</code>是我给它取的，指的是通过DOM操作的方式向页面注入的一种JS。为什么要把这种JS单独拿出来讨论呢？又或者说为什么需要通过这种方式注入JS呢？</p><p>这是因为<code>content-script</code>有一个很大的“缺陷”，也就是无法访问页面中的JS，虽然它可以操作DOM，但是DOM却不能调用它，也就是无法在DOM中通过绑定事件的方式调用<code>content-script</code>中的代码（包括直接写<code>onclick</code>和<code>addEventListener</code>2种方式都不行），但是，“在页面上添加一个按钮并调用插件的扩展API”是一个很常见的需求，那该怎么办呢？其实这就是本小节要讲的。</p><p>在<code>content-script</code>中通过DOM方式向页面注入<code>inject-script</code>代码示例：</p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 向页面注入JS</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">injectCustomJs</span>(<span class="hljs-params">jsPath</span>)</span>{    jsPath = jsPath || <span class="hljs-string">'js/inject.js'</span>;    <span class="hljs-keyword">var</span> temp = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);    temp.setAttribute(<span class="hljs-string">'type'</span>, <span class="hljs-string">'text/javascript'</span>);    <span class="hljs-comment">// 获得的地址类似：chrome-extension://ihcokhadfjfchaeagdoclpnjdiokfakg/js/inject.js</span>    temp.src = chrome.extension.getURL(jsPath);    temp.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)    </span>{        <span class="hljs-comment">// 放在页面不好看，执行完后移除掉</span>        <span class="hljs-keyword">this</span>.parentNode.removeChild(<span class="hljs-keyword">this</span>);    };    <span class="hljs-built_in">document</span>.head.appendChild(temp);}</code></pre><p>你以为这样就行了？执行一下你会看到如下报错：</p><pre><code class="hljs sql">Denying <span class="hljs-keyword">load</span> <span class="hljs-keyword">of</span> chrome-extension://efbllncjkjiijkppagepehoekjojdclc/js/inject.js. Resources must be listed <span class="hljs-keyword">in</span> the web_accessible_resources manifest <span class="hljs-keyword">key</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">to</span> be loaded <span class="hljs-keyword">by</span> pages outside the extension.</code></pre><p>意思就是你想要在web中直接访问插件中的资源的话必须显示声明才行，配置文件中增加如下：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// 普通页面能够直接访问的插件资源列表，如果不设置是无法直接访问的</span>    <span class="hljs-string">"web_accessible_resources"</span>: [<span class="hljs-string">"js/inject.js"</span>],}</code></pre><p>至于<code>inject-script</code>如何调用<code>content-script</code>中的代码，后面我会在专门的一个消息通信章节详细介绍。</p><h2 id="homepage_url">4.7. homepage_url</h2><p>开发者或者插件主页设置，一般会在如下2个地方显示：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101138368-1160396252.png"><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101153556-956484967.png"><h1 id="chrome插件的8种展示形式">Chrome插件的8种展示形式</h1><h2 id="browseraction浏览器右上角">5.1. browserAction(浏览器右上角)</h2><p>通过配置<code>browser_action</code>可以在浏览器的右上角增加一个图标，一个<code>browser_action</code>可以拥有一个图标，一个<code>tooltip</code>，一个<code>badge</code>和一个<code>popup</code>。</p><p>示例配置如下：</p><pre class="json"><code class="hljs"><span class="hljs-string">"browser_action"</span>:{    <span class="hljs-attr">"default_icon"</span>: <span class="hljs-string">"img/icon.png"</span>,    <span class="hljs-attr">"default_title"</span>: <span class="hljs-string">"这是一个示例Chrome插件"</span>,    <span class="hljs-attr">"default_popup"</span>: <span class="hljs-string">"popup.html"</span>}</code></pre><h3 id="图标">5.1.1. 图标</h3><p><code>browser_action</code>图标推荐使用宽高都为19像素的图片，更大的图标会被缩小，格式随意，一般推荐png，可以通过manifest中<code>default_icon</code>字段配置，也可以调用setIcon()方法。</p><h3 id="tooltip">5.1.2. tooltip</h3><p>修改<code>browser_action</code>的manifest中<code>default_title</code>字段，或者调用<code>setTitle()</code>方法。</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101210759-683039077.png"><h3 id="badge">5.1.3. badge</h3><p>所谓<code>badge</code>就是在图标上显示一些文本，可以用来更新一些小的扩展状态提示信息。因为badge空间有限，所以只支持4个以下的字符（英文4个，中文2个）。badge无法通过配置文件来指定，必须通过代码实现，设置badge文字和颜色可以分别使用<code>setBadgeText()</code>和<code>setBadgeBackgroundColor()</code>。</p><pre class="javascript"><code class="hljs">chrome.browserAction.setBadgeText({<span class="hljs-attr">text</span>: <span class="hljs-string">'new'</span>});chrome.browserAction.setBadgeBackgroundColor({<span class="hljs-attr">color</span>: [<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>]});</code></pre><p>效果：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101228056-2133169218.png"><h2 id="pageaction地址栏右侧">5.2. pageAction(地址栏右侧)</h2><p>所谓<code>pageAction</code>，指的是只有当某些特定页面打开才显示的图标，它和<code>browserAction</code>最大的区别是一个始终都显示，一个只在特定情况才显示。</p><p>需要特别说明的是早些版本的Chrome是将pageAction放在地址栏的最右边，左键单击弹出popup，右键单击则弹出相关默认的选项菜单：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101549665-519093069.png"><p>而新版的Chrome更改了这一策略，pageAction和普通的browserAction一样也是放在浏览器右上角，只不过没有点亮时是灰色的，点亮了才是彩色的，灰色时无论左键还是右键单击都是弹出选项：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101604947-1619892598.gif"><p></p><blockquote><p>具体是从哪一版本开始改的没去仔细考究，反正知道v50.0的时候还是前者，v58.0的时候已改为后者。</p></blockquote><p>调整之后的<code>pageAction</code>我们可以简单地把它看成是可以置灰的<code>browserAction</code>。</p><ul><li>chrome.pageAction.show(tabId) 显示图标；</li><li>chrome.pageAction.hide(tabId) 隐藏图标；</li></ul><p>示例(只有打开百度才显示图标)：</p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// manifest.json</span>{    <span class="hljs-string">"page_action"</span>:    {        <span class="hljs-string">"default_icon"</span>: <span class="hljs-string">"img/icon.png"</span>,        <span class="hljs-string">"default_title"</span>: <span class="hljs-string">"我是pageAction"</span>,        <span class="hljs-string">"default_popup"</span>: <span class="hljs-string">"popup.html"</span>    },    <span class="hljs-string">"permissions"</span>: [<span class="hljs-string">"declarativeContent"</span>]}<span class="hljs-comment">// background.js</span>chrome.runtime.onInstalled.addListener(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    chrome.declarativeContent.onPageChanged.removeRules(<span class="hljs-literal">undefined</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{        chrome.declarativeContent.onPageChanged.addRules([            {                <span class="hljs-attr">conditions</span>: [                    <span class="hljs-comment">// 只有打开百度才显示pageAction</span>                    <span class="hljs-keyword">new</span> chrome.declarativeContent.PageStateMatcher({<span class="hljs-attr">pageUrl</span>: {<span class="hljs-attr">urlContains</span>: <span class="hljs-string">'baidu.com'</span>}})                ],                <span class="hljs-attr">actions</span>: [<span class="hljs-keyword">new</span> chrome.declarativeContent.ShowPageAction()]            }        ]);    });});</code></pre><p>效果图：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101633728-1835819108.gif"><p></p><h2 id="右键菜单">5.3. 右键菜单</h2><p>通过开发Chrome插件可以自定义浏览器的右键菜单，主要是通过<code>chrome.contextMenus</code>API实现，右键菜单可以出现在不同的上下文，比如普通页面、选中的文字、图片、链接，等等，如果有同一个插件里面定义了多个菜单，Chrome会自动组合放到以插件名字命名的二级菜单里，如下：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101651618-268310284.png"><h3 id="最简单的右键菜单示例">5.3.1. 最简单的右键菜单示例</h3><pre class="javascript"><code class="hljs"><span class="hljs-comment">// manifest.json</span>{<span class="hljs-string">"permissions"</span>: [<span class="hljs-string">"contextMenus"</span>]}<span class="hljs-comment">// background.js</span>chrome.contextMenus.create({    <span class="hljs-attr">title</span>: <span class="hljs-string">"测试右键菜单"</span>,    <span class="hljs-attr">onclick</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{alert(<span class="hljs-string">'您点击了右键菜单！'</span>);}});</code></pre><p>效果：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101704775-1000780193.png"><h3 id="添加右键百度搜索">5.3.2. 添加右键百度搜索</h3><pre class="javascript"><code class="hljs"><span class="hljs-comment">// manifest.json</span>{<span class="hljs-string">"permissions"</span>: [<span class="hljs-string">"contextMenus"</span>， <span class="hljs-string">"tabs"</span>]}<span class="hljs-comment">// background.js</span>chrome.contextMenus.create({    <span class="hljs-attr">title</span>: <span class="hljs-string">'使用度娘搜索：%s'</span>, <span class="hljs-comment">// %s表示选中的文字</span>    contexts: [<span class="hljs-string">'selection'</span>], <span class="hljs-comment">// 只有当选中文字时才会出现此右键菜单</span>    onclick: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">params</span>)    </span>{        <span class="hljs-comment">// 注意不能使用location.href，因为location是属于background的window对象</span>        chrome.tabs.create({<span class="hljs-attr">url</span>: <span class="hljs-string">'https://www.baidu.com/s?ie=utf-8&amp;wd='</span> + <span class="hljs-built_in">encodeURI</span>(params.selectionText)});    }});</code></pre><p>效果如下：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101721384-916526079.png"><h3 id="语法说明">5.3.3. 语法说明</h3><p>这里只是简单列举一些常用的，完整API参见：<a href="https://developer.chrome.com/extensions/contextMenus" class="uri" target="_blank">https://developer.chrome.com/extensions/contextMenus</a></p><pre class="javascript"><code class="hljs">chrome.contextMenus.create({    <span class="hljs-attr">type</span>: <span class="hljs-string">'normal'</span>， <span class="hljs-comment">// 类型，可选：["normal", "checkbox", "radio", "separator"]，默认 normal</span>    title: <span class="hljs-string">'菜单的名字'</span>, <span class="hljs-comment">// 显示的文字，除非为“separator”类型否则此参数必需，如果类型为“selection”，可以使用%s显示选定的文本</span>    contexts: [<span class="hljs-string">'page'</span>], <span class="hljs-comment">// 上下文环境，可选：["all", "page", "frame", "selection", "link", "editable", "image", "video", "audio"]，默认page</span>    onclick: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}, <span class="hljs-comment">// 单击时触发的方法</span>    parentId: <span class="hljs-number">1</span>, <span class="hljs-comment">// 右键菜单项的父菜单项ID。指定父菜单项将会使此菜单项成为父菜单项的子菜单</span>    documentUrlPatterns: <span class="hljs-string">'https://*.baidu.com/*'</span> <span class="hljs-comment">// 只在某些页面显示此右键菜单</span>});<span class="hljs-comment">// 删除某一个菜单项</span>chrome.contextMenus.remove(menuItemId)；<span class="hljs-comment">// 删除所有自定义右键菜单</span>chrome.contextMenus.removeAll();<span class="hljs-comment">// 更新某一个菜单项</span>chrome.contextMenus.update(menuItemId, updateProperties);</code></pre><h2 id="override覆盖特定页面">5.4. override(覆盖特定页面)</h2><p>使用<code>override</code>页可以将Chrome默认的一些特定页面替换掉，改为使用扩展提供的页面。</p><p>扩展可以替代如下页面：</p><ul><li>历史记录：从工具菜单上点击历史记录时访问的页面，或者从地址栏直接输入 <a href="chrome://history" class="uri" target="_blank">chrome://history</a></li><li>新标签页：当创建新标签的时候访问的页面，或者从地址栏直接输入 <a href="chrome://newtab" class="uri" target="_blank">chrome://newtab</a></li><li>书签：浏览器的书签，或者直接输入 <a href="chrome://bookmarks" class="uri" target="_blank">chrome://bookmarks</a></li></ul><p>注意：</p><ul><li>一个扩展只能替代一个页面；</li><li>不能替代隐身窗口的新标签页；</li><li>网页必须设置title，否则用户可能会看到网页的URL，造成困扰；</li></ul><p>下面的截图是默认的新标签页和被扩展替换掉的新标签页。</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101740947-1059479610.png"><p>代码（注意，一个插件只能替代一个默认页，以下仅为演示）：</p><pre class="javascript"><code class="hljs"><span class="hljs-string">"chrome_url_overrides"</span>:{    <span class="hljs-string">"newtab"</span>: <span class="hljs-string">"newtab.html"</span>,    <span class="hljs-string">"history"</span>: <span class="hljs-string">"history.html"</span>,    <span class="hljs-string">"bookmarks"</span>: <span class="hljs-string">"bookmarks.html"</span>}</code></pre><h2 id="devtools开发者工具">5.5. devtools(开发者工具)</h2><h3 id="预热">5.5.1. 预热</h3><p>使用过vue的应该见过这种类型的插件：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101756868-1307680533.png"><p>是的，Chrome允许插件在开发者工具(devtools)上动手脚，主要表现在：</p><ul><li>自定义一个和多个和<code>Elements</code>、<code>Console</code>、<code>Sources</code>等同级别的面板；</li><li>自定义侧边栏(sidebar)，目前只能自定义<code>Elements</code>面板的侧边栏；</li></ul><p>先来看2张简单的demo截图，自定义面板（判断当前页面是否使用了jQuery）：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101815243-1381068889.png"><p>自定义侧边栏（获取当前页面所有图片）：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101832259-552804777.png"><h3 id="devtools扩展介绍">5.5.2. devtools扩展介绍</h3><p>主页：<a href="https://developer.chrome.com/extensions/devtools" class="uri" target="_blank">https://developer.chrome.com/extensions/devtools</a></p><p>来一张官方图片：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101847493-273760238.png"><p>每打开一个开发者工具窗口，都会创建devtools页面的实例，F12窗口关闭，页面也随着关闭，所以devtools页面的生命周期和devtools窗口是一致的。devtools页面可以访问一组特有的<code>DevTools API</code>以及有限的扩展API，这组特有的<code>DevTools API</code>只有devtools页面才可以访问，background都无权访问，这些API包括：</p><ul><li><code>chrome.devtools.panels</code>：面板相关；</li><li><code>chrome.devtools.inspectedWindow</code>：获取被审查窗口的有关信息；</li><li><code>chrome.devtools.network</code>：获取有关网络请求的信息；</li></ul><p>大部分扩展API都无法直接被<code>DevTools</code>页面调用，但它可以像<code>content-script</code>一样直接调用<code>chrome.extension</code>和<code>chrome.runtime</code>API，同时它也可以像<code>content-script</code>一样使用Message交互的方式与background页面进行通信。</p><h3 id="实例创建一个devtools扩展">5.5.3. 实例：创建一个devtools扩展</h3><p>首先，要针对开发者工具开发插件，需要在清单文件声明如下：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// 只能指向一个HTML文件，不能是JS文件</span>    <span class="hljs-string">"devtools_page"</span>: <span class="hljs-string">"devtools.html"</span>}</code></pre><p>这个<code>devtools.html</code>里面一般什么都没有，就引入一个js：</p><pre class="html"><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/devtools.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><p>可以看出来，其实真正代码是<code>devtools.js</code>，html文件是“多余”的，所以这里觉得有点坑，<code>devtools_page</code>干嘛不允许直接指定JS呢？</p><p>再来看devtools.js的代码：</p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 创建自定义面板，同一个插件可以创建多个自定义面板</span><span class="hljs-comment">// 几个参数依次为：panel标题、图标（其实设置了也没地方显示）、要加载的页面、加载成功后的回调</span>chrome.devtools.panels.create(<span class="hljs-string">'MyPanel'</span>, <span class="hljs-string">'img/icon.png'</span>, <span class="hljs-string">'mypanel.html'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">panel</span>)</span>{    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'自定义面板创建成功！'</span>); <span class="hljs-comment">// 注意这个log一般看不到</span>});<span class="hljs-comment">// 创建自定义侧边栏</span>chrome.devtools.panels.elements.createSidebarPane(<span class="hljs-string">"Images"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sidebar</span>)</span>{    <span class="hljs-comment">// sidebar.setPage('../sidebar.html'); // 指定加载某个页面</span>    sidebar.setExpression(<span class="hljs-string">'document.querySelectorAll("img")'</span>, <span class="hljs-string">'All Images'</span>); <span class="hljs-comment">// 通过表达式来指定</span>    <span class="hljs-comment">//sidebar.setObject({aaa: 111, bbb: 'Hello World!'}); // 直接设置显示某个对象</span>});</code></pre><p>setPage时的效果：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101903837-2079245455.png"><p>以下截图示例的代码：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101928103-1093454821.png"><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 检测jQuery</span><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'check_jquery'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    <span class="hljs-comment">// 访问被检查的页面DOM需要使用inspectedWindow</span>    <span class="hljs-comment">// 简单例子：检测被检查页面是否使用了jQuery</span>    chrome.devtools.inspectedWindow.eval(<span class="hljs-string">"jQuery.fn.jquery"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result, isException</span>)    </span>{        <span class="hljs-keyword">var</span> html = <span class="hljs-string">''</span>;        <span class="hljs-keyword">if</span> (isException) html = <span class="hljs-string">'当前页面没有使用jQuery。'</span>;        <span class="hljs-keyword">else</span> html = <span class="hljs-string">'当前页面使用了jQuery，版本为：'</span>+result;        alert(html);    });});<span class="hljs-comment">// 打开某个资源</span><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'open_resource'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    chrome.devtools.inspectedWindow.eval(<span class="hljs-string">"window.location.href"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result, isException</span>)    </span>{        chrome.devtools.panels.openResource(result, <span class="hljs-number">20</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)        </span>{            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'资源打开成功！'</span>);        });    });});<span class="hljs-comment">// 审查元素</span><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'test_inspect'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    chrome.devtools.inspectedWindow.eval(<span class="hljs-string">"inspect(document.images[0])"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result, isException</span>)</span>{});});<span class="hljs-comment">// 获取所有资源</span><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'get_all_resources'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    chrome.devtools.inspectedWindow.getResources(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resources</span>)    </span>{        alert(<span class="hljs-built_in">JSON</span>.stringify(resources));    });});</code></pre><h3 id="调试技巧">5.5.4. 调试技巧</h3><p>修改了devtools页面的代码时，需要先在 <a href="chrome://extensions" class="uri" target="_blank">chrome://extensions</a> 页面按下<code>Ctrl+R</code>重新加载插件，然后关闭再打开开发者工具即可，无需刷新页面（而且只刷新页面不刷新开发者工具的话是不会生效的）。</p><p>由于devtools本身就是开发者工具页面，所以几乎没有方法可以直接调试它，直接用 <code>chrome-extension://extid/devtools.html"</code>的方式打开页面肯定报错，因为不支持相关特殊API，只能先自己写一些方法屏蔽这些错误，调试通了再放开。</p><h2 id="option选项页">5.6. option(选项页)</h2><p>所谓<code>options</code>页，就是插件的设置页面，有2个入口，一个是右键图标有一个“选项”菜单，还有一个在插件管理页面：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711101949603-1425351182.png"><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102004775-83441694.png"><p>在Chrome40以前，options页面和其它普通页面没什么区别，Chrome40以后则有了一些变化。</p><p>我们先看老版的<a href="https://developer.chrome.com/extensions/options" target="_blank">options</a>：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// Chrome40以前的插件配置页写法</span>    <span class="hljs-string">"options_page"</span>: <span class="hljs-string">"options.html"</span>,}</code></pre><p>这个页面里面的内容就随你自己发挥了，配置之后在插件管理页就会看到一个<code>选项</code>按钮入口，点进去就是打开一个网页，没啥好讲的。</p><p>效果:</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102020962-228055231.png"><p>再来看新版的<a href="https://developer.chrome.com/extensions/optionsV2" target="_blank">optionsV2</a>：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-string">"options_ui"</span>:    {        <span class="hljs-string">"page"</span>: <span class="hljs-string">"options.html"</span>,        <span class="hljs-comment">// 添加一些默认的样式，推荐使用</span>        <span class="hljs-string">"chrome_style"</span>: <span class="hljs-literal">true</span>    },}</code></pre><p><code>options.html</code>的代码我们没有任何改动，只是配置文件改了，之后效果如下：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102036665-607005369.png"><p>看起来是不是高大上了？</p><p>几点注意：</p><ul><li>为了兼容，建议2种都写，如果都写了，Chrome40以后会默认读取新版的方式；</li><li>新版options中不能使用alert；</li><li>数据存储建议用chrome.storage，因为会随用户自动同步；</li></ul><h2 id="omnibox">5.7. omnibox</h2><p><code>omnibox</code>是向用户提供搜索建议的一种方式。先来看个<code>gif</code>图以便了解一下这东西到底是个什么鬼：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102052275-866111894.gif"><p></p><p>注册某个关键字以触发插件自己的搜索建议界面，然后可以任意发挥了。</p><p>首先，配置文件如下：</p><pre class="javascript"><code class="hljs">{    <span class="hljs-comment">// 向地址栏注册一个关键字以提供搜索建议，只能设置一个关键字</span>    <span class="hljs-string">"omnibox"</span>: { <span class="hljs-string">"keyword"</span> : <span class="hljs-string">"go"</span> },}</code></pre><p>然后<code>background.js</code>中注册监听事件：</p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// omnibox 演示</span>chrome.omnibox.onInputChanged.addListener(<span class="hljs-function">(<span class="hljs-params">text, suggest</span>) =&gt;</span> {    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'inputChanged: '</span> + text);    <span class="hljs-keyword">if</span>(!text) <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">if</span>(text == <span class="hljs-string">'美女'</span>) {        suggest([            {<span class="hljs-attr">content</span>: <span class="hljs-string">'中国'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'你要找“中国美女”吗？'</span>},            {<span class="hljs-attr">content</span>: <span class="hljs-string">'日本'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'你要找“日本美女”吗？'</span>},            {<span class="hljs-attr">content</span>: <span class="hljs-string">'泰国'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'你要找“泰国美女或人妖”吗？'</span>},            {<span class="hljs-attr">content</span>: <span class="hljs-string">'韩国'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'你要找“韩国美女”吗？'</span>}        ]);    }    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(text == <span class="hljs-string">'微博'</span>) {        suggest([            {<span class="hljs-attr">content</span>: <span class="hljs-string">'新浪'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'新浪'</span> + text},            {<span class="hljs-attr">content</span>: <span class="hljs-string">'腾讯'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'腾讯'</span> + text},            {<span class="hljs-attr">content</span>: <span class="hljs-string">'搜狐'</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'搜索'</span> + text},        ]);    }    <span class="hljs-keyword">else</span> {        suggest([            {<span class="hljs-attr">content</span>: <span class="hljs-string">'百度搜索 '</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'百度搜索 '</span> + text},            {<span class="hljs-attr">content</span>: <span class="hljs-string">'谷歌搜索 '</span> + text, <span class="hljs-attr">description</span>: <span class="hljs-string">'谷歌搜索 '</span> + text},        ]);    }});<span class="hljs-comment">// 当用户接收关键字建议时触发</span>chrome.omnibox.onInputEntered.addListener(<span class="hljs-function">(<span class="hljs-params">text</span>) =&gt;</span> {    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'inputEntered: '</span> + text);    <span class="hljs-keyword">if</span>(!text) <span class="hljs-keyword">return</span>;    <span class="hljs-keyword">var</span> href = <span class="hljs-string">''</span>;    <span class="hljs-keyword">if</span>(text.endsWith(<span class="hljs-string">'美女'</span>)) href = <span class="hljs-string">'http://image.baidu.com/search/index?tn=baiduimage&amp;ie=utf-8&amp;word='</span> + text;    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(text.startsWith(<span class="hljs-string">'百度搜索'</span>)) href = <span class="hljs-string">'https://www.baidu.com/s?ie=UTF-8&amp;wd='</span> + text.replace(<span class="hljs-string">'百度搜索 '</span>, <span class="hljs-string">''</span>);    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(text.startsWith(<span class="hljs-string">'谷歌搜索'</span>)) href = <span class="hljs-string">'https://www.google.com.tw/search?q='</span> + text.replace(<span class="hljs-string">'谷歌搜索 '</span>, <span class="hljs-string">''</span>);    <span class="hljs-keyword">else</span> href = <span class="hljs-string">'https://www.baidu.com/s?ie=UTF-8&amp;wd='</span> + text;    openUrlCurrentTab(href);});<span class="hljs-comment">// 获取当前选项卡ID</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCurrentTabId</span>(<span class="hljs-params">callback</span>)</span>{    chrome.tabs.query({<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>)    </span>{        <span class="hljs-keyword">if</span>(callback) callback(tabs.length ? tabs[<span class="hljs-number">0</span>].id: <span class="hljs-literal">null</span>);    });}<span class="hljs-comment">// 当前标签打开某个链接</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openUrlCurrentTab</span>(<span class="hljs-params">url</span>)</span>{    getCurrentTabId(<span class="hljs-function"><span class="hljs-params">tabId</span> =&gt;</span> {        chrome.tabs.update(tabId, {<span class="hljs-attr">url</span>: url});    })}</code></pre><h2 id="桌面通知">5.8. 桌面通知</h2><p>Chrome提供了一个<code>chrome.notifications</code>API以便插件推送桌面通知，暂未找到<code>chrome.notifications</code>和HTML5自带的<code>Notification</code>的显著区别及优势。</p><p>在后台JS中，无论是使用<code>chrome.notifications</code>还是<code>Notification</code>都不需要申请权限（HTML5方式需要申请权限），直接使用即可。</p><p>最简单的通知：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102111697-515392377.png"><p>代码：</p><pre class="javascript"><code class="hljs">chrome.notifications.create(<span class="hljs-literal">null</span>, {    <span class="hljs-attr">type</span>: <span class="hljs-string">'basic'</span>,    <span class="hljs-attr">iconUrl</span>: <span class="hljs-string">'img/icon.png'</span>,    <span class="hljs-attr">title</span>: <span class="hljs-string">'这是标题'</span>,    <span class="hljs-attr">message</span>: <span class="hljs-string">'您刚才点击了自定义右键菜单！'</span>});</code></pre><p>通知的样式可以很丰富：</p><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102121415-1959756640.png"><p>这个没有深入研究，有需要的可以去看官方文档。</p><h1 id="种类型的js对比">5种类型的JS对比</h1><p>Chrome插件的JS主要可以分为这5类：<code>injected script</code>、<code>content-script</code>、<code>popup js</code>、<code>background js</code>和<code>devtools js</code>，</p><h2 id="权限对比">6.1. 权限对比</h2>{% raw %}<table><thead><tr class="header"><th>JS种类</th><th>可访问的API</th><th>DOM访问情况</th><th>JS访问情况</th><th>直接跨域</th></tr></thead><tbody><tr class="odd"><td>injected script</td><td>和普通JS无任何差别，不能访问任何扩展API</td><td>可以访问</td><td>可以访问</td><td>不可以</td></tr><tr class="even"><td>content script</td><td>只能访问 extension、runtime等部分API</td><td>可以访问</td><td>不可以</td><td>不可以</td></tr><tr class="odd"><td>popup js</td><td>可访问绝大部分API，除了devtools系列</td><td>不可直接访问</td><td>不可以</td><td>可以</td></tr><tr class="even"><td>background js</td><td>可访问绝大部分API，除了devtools系列</td><td>不可直接访问</td><td>不可以</td><td>可以</td></tr><tr class="odd"><td>devtools js</td><td>只能访问 devtools、extension、runtime等部分API</td><td>可以</td><td>可以</td><td>不可以</td></tr></tbody></table><h2 id="调试方式对比">6.2. 调试方式对比</h2><table><thead><tr class="header"><th>JS类型</th><th>调试方式</th><th>图片说明</th></tr></thead><tbody><tr class="odd"><td>injected script</td><td>直接普通的F12即可</td><td>懒得截图</td></tr><tr class="even"><td>content-script</td><td>打开Console,如图切换</td><td><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170712142454118-1741772825.png"></td></tr><tr class="odd"><td>popup-js</td><td>popup页面右键审查元素</td><td><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170712142508275-102456585.png"></td></tr><tr class="even"><td>background</td><td>插件管理页点击背景页即可</td><td><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170712142524665-745904947.png"></td></tr><tr class="odd"><td>devtools-js</td><td>暂未找到有效方法</td><td>-</td></tr></tbody></table>{% endraw %}<p></p><h1 id="消息通信">消息通信</h1><p></p><p></p><p>通信主页：<a href="https://developer.chrome.com/extensions/messaging" class="uri" target="_blank">https://developer.chrome.com/extensions/messaging</a></p><p></p><p></p><p>前面我们介绍了Chrome插件中存在的5种JS，那么它们之间如何互相通信呢？下面先来系统概况一下，然后再分类细说。需要知道的是，popup和background其实几乎可以视为一种东西，因为它们可访问的API都一样、通信机制一样、都可以跨域。</p><p></p><p></p><h2 id="互相通信概览">7.1. 互相通信概览</h2><p></p><p></p><p>注：<code>-</code>表示不存在或者无意义，或者待验证。</p><p></p><p><table></table></p><p><thead></thead></p><p><tr class="header"></tr></p><p><th></th></p><p><th>injected-script</th></p><p><th>content-script</th></p><p><th>popup-js</th></p><p><th>background-js</th><br><br></p><p><tbody></tbody></p><p><tr class="odd"></tr></p><p><td>injected-script</td></p><p><td>-</td></p><p><td>window.postMessage</td></p><p><td>-</td></p><p><td>-</td><br></p><p><tr class="even"></tr></p><p><td>content-script</td></p><p><td>window.postMessage</td></p><p><td>-</td></p><p><td>chrome.runtime.sendMessage chrome.runtime.connect</td></p><p><td>chrome.runtime.sendMessage chrome.runtime.connect</td><br></p><p><tr class="odd"></tr></p><p><td>popup-js</td></p><p><td>-</td></p><p><td>chrome.tabs.sendMessage chrome.tabs.connect</td></p><p><td>-</td></p><p><td>chrome.extension. getBackgroundPage()</td><br></p><p><tr class="even"></tr></p><p><td>background-js</td></p><p><td>-</td></p><p><td>chrome.tabs.sendMessage chrome.tabs.connect</td></p><p><td>chrome.extension.getViews</td></p><p><td>-</td><br></p><p><tr class="odd"></tr></p><p><td>devtools-js</td></p><p><td>chrome.devtools. inspectedWindow.eval</td></p><p><td>-</td></p><p><td>chrome.runtime.sendMessage</td></p><p><td>chrome.runtime.sendMessage</td><br><br><br></p><p></p><h2 id="通信详细介绍">7.2. 通信详细介绍</h2><p></p><p></p><h3 id="popup和background">7.2.1. popup和background</h3><p></p><p></p><p>popup可以直接调用background中的JS方法，也可以直接访问background的DOM：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// background.js</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)<br></span>{<br>    alert(<span class="hljs-string">‘我是background！’</span>);<br>}</code></pre></p><p><span class="hljs-comment">// popup.js</span><br><span class="hljs-keyword">var</span> bg = chrome.extension.getBackgroundPage();<br>bg.test(); <span class="hljs-comment">// 访问bg的函数</span><br>alert(bg.document.body.innerHTML); <span class="hljs-comment">// 访问bg的DOM</span></p><p><blockquote></blockquote></p><p></p><p>小插曲，今天碰到一个情况，发现popup无法获取background的任何方法，找了半天才发现是因为background的js报错了，而你如果不主动查看background的js的话，是看不到错误信息的，特此提醒。</p><br><p></p><p></p><p>至于<code>background</code>访问<code>popup</code>如下（前提是<code>popup</code>已经打开）：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-keyword">var</span> views = chrome.extension.getViews({<span class="hljs-attr">type</span>:<span class="hljs-string">‘popup’</span>});<br><span class="hljs-keyword">if</span>(views.length &gt; <span class="hljs-number">0</span>) {<br>    <span class="hljs-built_in">console</span>.log(views[<span class="hljs-number">0</span>].location.href);<br>}</code></pre></p><p></p><h3 id="popup或者bg向content主动发送消息">7.2.2. popup或者bg向content主动发送消息</h3><p></p><p></p><p>background.js或者popup.js：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendMessageToContentScript</span>(<span class="hljs-params">message, callback</span>)<br></span>{<br>    chrome.tabs.query({<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>)<br>    </span>{<br>        chrome.tabs.sendMessage(tabs[<span class="hljs-number">0</span>].id, message, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)<br>        </span>{<br>            <span class="hljs-keyword">if</span>(callback) callback(response);<br>        });<br>    });<br>}<br>sendMessageToContentScript({<span class="hljs-attr">cmd</span>:<span class="hljs-string">‘test’</span>, <span class="hljs-attr">value</span>:<span class="hljs-string">‘你好，我是popup！’</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)<br></span>{<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘来自content的回复：’</span>+response);<br>});</code></pre></p><p></p><p><code>content-script.js</code>接收：</p><p></p><p><pre class="javascript"><code class="hljs">chrome.runtime.onMessage.addListener(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, sender, sendResponse</span>)<br></span>{<br>    <span class="hljs-comment">// console.log(sender.tab ?”from a content script:” + sender.tab.url :”from the extension”);</span><br>    <span class="hljs-keyword">if</span>(request.cmd == <span class="hljs-string">‘test’</span>) alert(request.value);<br>    sendResponse(<span class="hljs-string">‘我收到了你的消息！’</span>);<br>});</code></pre></p><p></p><p>双方通信直接发送的都是JSON对象，不是JSON字符串，所以无需解析，很方便（当然也可以直接发送字符串）。</p><p></p><p><blockquote></blockquote></p><p></p><p>网上有些老代码中用的是<code>chrome.extension.onMessage</code>，没有完全查清二者的区别(貌似是别名)，但是建议统一使用<code>chrome.runtime.onMessage</code>。</p><br><p></p><p></p><h3 id="content-script主动发消息给后台">7.2.3. content-script主动发消息给后台</h3><p></p><p></p><p>content-script.js：</p><p></p><p><pre class="javascript"><code class="hljs">chrome.runtime.sendMessage({<span class="hljs-attr">greeting</span>: <span class="hljs-string">‘你好，我是content-script呀，我主动发消息给后台！’</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘收到来自后台的回复：’</span> + response);<br>});</code></pre></p><p></p><p>background.js 或者 popup.js：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 监听来自content-script的消息</span><br>chrome.runtime.onMessage.addListener(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, sender, sendResponse</span>)<br></span>{<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘收到来自content-script的消息：’</span>);<br>    <span class="hljs-built_in">console</span>.log(request, sender, sendResponse);<br>    sendResponse(<span class="hljs-string">‘我是后台，我已收到你的消息：’</span> + <span class="hljs-built_in">JSON</span>.stringify(request));<br>});</code></pre></p><p></p><p>注意事项：</p><p></p><p><ul></ul></p><p><li>content_scripts向<code>popup</code>主动发消息的前提是popup必须打开！否则需要利用background作中转；</li></p><p><li>如果background和popup同时监听，那么它们都可以同时收到消息，但是只有一个可以sendResponse，一个先发送了，那么另外一个再发送就无效；</li><br></p><p></p><h3 id="injected-script和content-script">7.2.4. injected script和content-script</h3><p></p><p></p><p><code>content-script</code>和页面内的脚本（<code>injected-script</code>自然也属于页面内的脚本）之间唯一共享的东西就是页面的DOM元素，有2种方法可以实现二者通讯：</p><p></p><p><ol></ol></p><p><li>可以通过<code>window.postMessage</code>和<code>window.addEventListener</code>来实现二者消息通讯；</li></p><p><li>通过自定义DOM事件来实现；</li><br></p><p></p><p>第一种方法（推荐）：</p><p></p><p></p><p><code>injected-script</code>中：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-built_in">window</span>.postMessage({<span class="hljs-string">“test”</span>: <span class="hljs-string">‘你好！’</span>}, <span class="hljs-string">‘*’</span>);</code></pre></p><p></p><p>content script中：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">“message”</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)<br></span>{<br>    <span class="hljs-built_in">console</span>.log(e.data);<br>}, <span class="hljs-literal">false</span>);</code></pre></p><p></p><p>第二种方法：</p><p></p><p></p><p><code>injected-script</code>中：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-keyword">var</span> customEvent = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">‘Event’</span>);<br>customEvent.initEvent(<span class="hljs-string">‘myCustomEvent’</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireCustomEvent</span>(<span class="hljs-params">data</span>) </span>{<br>    hiddenDiv = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">‘myCustomEventDiv’</span>);<br>    hiddenDiv.innerText = data<br>    hiddenDiv.dispatchEvent(customEvent);<br>}<br>fireCustomEvent(<span class="hljs-string">‘你好，我是普通JS！’</span>);</code></pre></p><p></p><p><code>content-script.js</code>中：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-keyword">var</span> hiddenDiv = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">‘myCustomEventDiv’</span>);<br><span class="hljs-keyword">if</span>(!hiddenDiv) {<br>    hiddenDiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">‘div’</span>);<br>    hiddenDiv.style.display = <span class="hljs-string">‘none’</span>;<br>    <span class="hljs-built_in">document</span>.body.appendChild(hiddenDiv);<br>}<br>hiddenDiv.addEventListener(<span class="hljs-string">‘myCustomEvent’</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> eventData = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">‘myCustomEventDiv’</span>).innerText;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘收到自定义事件消息：’</span> + eventData);<br>});</code></pre></p><p></p><h2 id="长连接和短连接">7.3. 长连接和短连接</h2><p></p><p></p><p>其实上面已经涉及到了，这里再单独说明一下。Chrome插件中有2种通信方式，一个是短连接（<code>chrome.tabs.sendMessage</code>和<code>chrome.runtime.sendMessage</code>），一个是长连接（<code>chrome.tabs.connect</code>和<code>chrome.runtime.connect</code>）。</p><p></p><p></p><p>短连接的话就是挤牙膏一样，我发送一下，你收到了再回复一下，如果对方不回复，你只能重新发，而长连接类似<code>WebSocket</code>会一直建立连接，双方可以随时互发消息。</p><p></p><p></p><p>短连接上面已经有代码示例了，这里只讲一下长连接。</p><p></p><p></p><p>popup.js：</p><p></p><p><pre class="javascript"><code class="hljs">getCurrentTabId(<span class="hljs-function">(<span class="hljs-params">tabId</span>) =&gt;</span> {<br>    <span class="hljs-keyword">var</span> port = chrome.tabs.connect(tabId, {<span class="hljs-attr">name</span>: <span class="hljs-string">‘test-connect’</span>});<br>    port.postMessage({<span class="hljs-attr">question</span>: <span class="hljs-string">‘你是谁啊？’</span>});<br>    port.onMessage.addListener(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{<br>        alert(<span class="hljs-string">‘收到消息：’</span>+msg.answer);<br>        <span class="hljs-keyword">if</span>(msg.answer &amp;&amp; msg.answer.startsWith(<span class="hljs-string">‘我是’</span>))<br>        {<br>            port.postMessage({<span class="hljs-attr">question</span>: <span class="hljs-string">‘哦，原来是你啊！’</span>});<br>        }<br>    });<br>});</code></pre></p><p></p><p>content-script.js：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 监听长连接</span><br>chrome.runtime.onConnect.addListener(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">port</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(port);<br>    <span class="hljs-keyword">if</span>(port.name == <span class="hljs-string">‘test-connect’</span>) {<br>        port.onMessage.addListener(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{<br>            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘收到长连接消息：’</span>, msg);<br>            <span class="hljs-keyword">if</span>(msg.question == <span class="hljs-string">‘你是谁啊？’</span>) port.postMessage({<span class="hljs-attr">answer</span>: <span class="hljs-string">‘我是你爸！’</span>});<br>        });<br>    }<br>});</code></pre></p><p></p><h1 id="其它补充">其它补充</h1><p></p><p></p><h2 id="动态注入或执行js">8.1. 动态注入或执行JS</h2><p></p><p></p><p>虽然在<code>background</code>和<code>popup</code>中无法直接访问页面DOM，但是可以通过<code>chrome.tabs.executeScript</code>来执行脚本，从而实现访问web页面的DOM（注意，这种方式也不能直接访问页面JS）。</p><p></p><p></p><p>示例<code>manifest.json</code>配置：</p><p></p><p><pre class="javascript"><code class="hljs">{<br>    <span class="hljs-string">“name”</span>: <span class="hljs-string">“动态JS注入演示”</span>,<br>    …<br>    <span class="hljs-string">“permissions”</span>: [<br>        <span class="hljs-string">“tabs”</span>, <span class="hljs-string">“http://<em>/</em>“</span>, <span class="hljs-string">“https://<em>/</em>“</span><br>    ],<br>    …<br>}</code></pre></p><p></p><p>JS：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 动态执行JS代码</span><br>chrome.tabs.executeScript(tabId, {<span class="hljs-attr">code</span>: <span class="hljs-string">‘document.body.style.backgroundColor=”red”‘</span>});<br><span class="hljs-comment">// 动态执行JS文件</span><br>chrome.tabs.executeScript(tabId, {<span class="hljs-attr">file</span>: <span class="hljs-string">‘some-script.js’</span>});</code></pre></p><p></p><h2 id="动态注入css">8.2. 动态注入CSS</h2><p></p><p></p><p>示例<code>manifest.json</code>配置：</p><p></p><p><pre class="javascript"><code class="hljs">{<br>    <span class="hljs-string">“name”</span>: <span class="hljs-string">“动态CSS注入演示”</span>,<br>    …<br>    <span class="hljs-string">“permissions”</span>: [<br>        <span class="hljs-string">“tabs”</span>, <span class="hljs-string">“http://<em>/</em>“</span>, <span class="hljs-string">“https://<em>/</em>“</span><br>    ],<br>    …<br>}</code></pre></p><p></p><p>JS代码：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 动态执行CSS代码，TODO，这里有待验证</span><br>chrome.tabs.insertCSS(tabId, {<span class="hljs-attr">code</span>: <span class="hljs-string">‘xxx’</span>});<br><span class="hljs-comment">// 动态执行CSS文件</span><br>chrome.tabs.insertCSS(tabId, {<span class="hljs-attr">file</span>: <span class="hljs-string">‘some-style.css’</span>});</code></pre></p><p></p><h2 id="获取当前窗口id">8.3. 获取当前窗口ID</h2><p></p><p><pre class="javascript"><code class="hljs">chrome.windows.getCurrent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">currentWindow</span>)<br></span>{<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘当前窗口ID：’</span> + currentWindow.id);<br>});</code></pre></p><p></p><h2 id="获取当前标签页id">8.4. 获取当前标签页ID</h2><p></p><p></p><p>一般有2种方法：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 获取当前选项卡ID</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCurrentTabId</span>(<span class="hljs-params">callback</span>)<br></span>{<br>    chrome.tabs.query({<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>)<br>    </span>{<br>        <span class="hljs-keyword">if</span>(callback) callback(tabs.length ? tabs[<span class="hljs-number">0</span>].id: <span class="hljs-literal">null</span>);<br>    });<br>}</code></pre></p><p></p><p>获取当前选项卡id的另一种方法，大部分时候都类似，只有少部分时候会不一样（例如当窗口最小化时）</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 获取当前选项卡ID</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCurrentTabId2</span>(<span class="hljs-params"></span>)<br></span>{<br>    chrome.windows.getCurrent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">currentWindow</span>)<br>    </span>{<br>        chrome.tabs.query({<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">windowId</span>: currentWindow.id}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>)<br>        </span>{<br>            <span class="hljs-keyword">if</span>(callback) callback(tabs.length ? tabs[<span class="hljs-number">0</span>].id: <span class="hljs-literal">null</span>);<br>        });<br>    });<br>}</code></pre></p><p></p><h2 id="本地存储">8.5. 本地存储</h2><p></p><p></p><p>本地存储建议用<code>chrome.storage</code>而不是普通的<code>localStorage</code>，区别有好几点，个人认为最重要的2点区别是：</p><p></p><p><ul></ul></p><p><li><code>chrome.storage</code>是针对插件全局的，即使你在<code>background</code>中保存的数据，在<code>content-script</code>也能获取到；</li></p><p><li><code>chrome.storage.sync</code>可以跟随当前登录用户自动同步，这台电脑修改的设置会自动同步到其它电脑，很方便，如果没有登录或者未联网则先保存到本地，等登录了再同步至网络；</li><br></p><p></p><p>需要声明<code>storage</code>权限，有<code>chrome.storage.sync</code>和<code>chrome.storage.local</code>2种方式可供选择，使用示例如下：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">// 读取数据，第一个参数是指定要读取的key以及设置默认值</span><br>chrome.storage.sync.get({<span class="hljs-attr">color</span>: <span class="hljs-string">‘red’</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">items</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(items.color, items.age);<br>});<br><span class="hljs-comment">// 保存数据</span><br>chrome.storage.sync.set({<span class="hljs-attr">color</span>: <span class="hljs-string">‘blue’</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">‘保存成功！’</span>);<br>});</code></pre></p><p></p><h2 id="webrequest">8.6. webRequest</h2><p></p><p></p><p>通过webRequest系列API可以对HTTP请求进行任性地修改、定制，这里通过<code>beforeRequest</code>来简单演示一下它的冰山一角：</p><p></p><p><pre class="javascript"><code class="hljs"><span class="hljs-comment">//manifest.json</span><br>{<br>    <span class="hljs-comment">// 权限申请</span><br>    <span class="hljs-string">“permissions”</span>:<br>    [<br>        <span class="hljs-string">“webRequest”</span>, <span class="hljs-comment">// web请求</span><br>        <span class="hljs-string">“webRequestBlocking”</span>, <span class="hljs-comment">// 阻塞式web请求</span><br>        <span class="hljs-string">“storage”</span>, <span class="hljs-comment">// 插件本地存储</span><br>        <span class="hljs-string">“http://<em>/</em>“</span>, <span class="hljs-comment">// 可以通过executeScript或者insertCSS访问的网站</span><br>        <span class="hljs-string">“https://<em>/</em>“</span> <span class="hljs-comment">// 可以通过executeScript或者insertCSS访问的网站</span><br>    ],<br>}</code></pre></p><p><span class="hljs-comment">// background.js</span><br><span class="hljs-comment">// 是否显示图片</span><br><span class="hljs-keyword">var</span> showImage;<br>chrome.storage.sync.get({<span class="hljs-attr">showImage</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">items</span>) </span>{<br>    showImage = items.showImage;<br>});<br><span class="hljs-comment">// web请求监听，最后一个参数表示阻塞式，需单独声明权限：webRequestBlocking</span><br>chrome.webRequest.onBeforeRequest.addListener(<span class="hljs-function"><span class="hljs-params">details</span> =&gt;</span> {<br>    <span class="hljs-comment">// cancel 表示取消本次请求</span><br>    <span class="hljs-keyword">if</span>(!showImage &amp;&amp; details.type == <span class="hljs-string">‘image’</span>) <span class="hljs-keyword">return</span> {<span class="hljs-attr">cancel</span>: <span class="hljs-literal">true</span>};<br>    <span class="hljs-comment">// 简单的音视频检测</span><br>    <span class="hljs-comment">// 大部分网站视频的type并不是media，且视频做了防下载处理，所以这里仅仅是为了演示效果，无实际意义</span><br>    <span class="hljs-keyword">if</span>(details.type == <span class="hljs-string">‘media’</span>) {<br>        chrome.notifications.create(<span class="hljs-literal">null</span>, {<br>            <span class="hljs-attr">type</span>: <span class="hljs-string">‘basic’</span>,<br>            <span class="hljs-attr">iconUrl</span>: <span class="hljs-string">‘img/icon.png’</span>,<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">‘检测到音视频’</span>,<br>            <span class="hljs-attr">message</span>: <span class="hljs-string">‘音视频地址：’</span> + details.url,<br>        });<br>    }<br>}, {<span class="hljs-attr">urls</span>: [<span class="hljs-string">“&lt;all_urls&gt;”</span>]}, [<span class="hljs-string">“blocking”</span>]);</p><p></p><h2 id="国际化">8.7. 国际化</h2><p></p><p></p><p>插件根目录新建一个名为<code>_locales</code>的文件夹，再在下面新建一些语言的文件夹，如<code>en</code>、<code>zh_CN</code>、<code>zh_TW</code>，然后再在每个文件夹放入一个<code>messages.json</code>，同时必须在清单文件中设置<code>default_locale</code>。</p><p></p><p></p><p><code>_locales\en\messages.json</code>内容：</p><p></p><p><pre class="javascript"><code class="hljs">{<br>    <span class="hljs-string">“pluginDesc”</span>: {<span class="hljs-string">“message”</span>: <span class="hljs-string">“A simple chrome extension demo”</span>},<br>    <span class="hljs-string">“helloWorld”</span>: {<span class="hljs-string">“message”</span>: <span class="hljs-string">“Hello World!”</span>}<br>}</code></pre></p><p></p><p><code>_locales\zh_CN\messages.json</code>内容：</p><p></p><p><pre class="javascript"><code class="hljs">{<br>    <span class="hljs-string">“pluginDesc”</span>: {<span class="hljs-string">“message”</span>: <span class="hljs-string">“一个简单的Chrome插件demo”</span>},<br>    <span class="hljs-string">“helloWorld”</span>: {<span class="hljs-string">“message”</span>: <span class="hljs-string">“你好啊，世界！”</span>}<br>}</code></pre></p><p></p><p>在<code>manifest.json</code>和<code>CSS</code>文件中通过<code><strong>MSG_messagename</strong></code>引入，如：</p><p></p><p><pre class="javascript"><code class="hljs">{<br>    <span class="hljs-string">“description”</span>: <span class="hljs-string">“<strong>MSG_pluginDesc</strong>“</span>,<br>    <span class="hljs-comment">// 默认语言</span><br>    <span class="hljs-string">“default_locale”</span>: <span class="hljs-string">“zh_CN”</span>,<br>}</code></pre></p><p></p><p>JS中则直接<code>chrome.i18n.getMessage(“helloWorld”)</code>。</p><p></p><p></p><p>测试时，通过给chrome建立一个不同的快捷方式<code>chrome.exe –lang=en</code>来切换语言，如：</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102158259-417770023.png"><p></p><p></p><p>英文效果：</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102210868-1502746521.png"><p></p><p></p><p>中文效果：</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102221478-1089926751.png"><p></p><p></p><h2 id="api总结">8.8. API总结</h2><p></p><p></p><p>比较常用用的一些API系列：</p><p></p><p><ul></ul></p><p><li>chrome.tabs</li></p><p><li>chrome.runtime</li></p><p><li>chrome.webRequest</li></p><p><li>chrome.window</li></p><p><li>chrome.storage</li></p><p><li>chrome.contextMenus</li></p><p><li>chrome.devtools</li></p><p><li>chrome.extension</li><br></p><p></p><h1 id="经验总结">经验总结</h1><p></p><p></p><h2 id="查看已安装插件路径">9.1. 查看已安装插件路径</h2><p></p><p></p><p>已安装的插件源码路径：<code>C:\Users\用户名\AppData\Local\Google\Chrome\User Data\Default\Extensions</code>，每一个插件被放在以插件ID为名的文件夹里面，想要学习某个插件的某个功能是如何实现的，看人家的源码是最好的方法了：</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102256712-51940037.png"><p></p><p></p><p>如何查看某个插件的ID？进入 <a href="chrome://extensions" class="uri" target="_blank">chrome://extensions</a> ，然后勾线开发者模式即可看到了。</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102308431-360409003.png"><p></p><p></p><h2 id="特别注意background的报错">9.2. 特别注意background的报错</h2><p></p><p></p><p>很多时候你发现你的代码会莫名其妙的失效，找来找去又找不到原因，这时打开background的控制台才发现原来某个地方写错了导致代码没生效，正式由于background报错的隐蔽性(需要主动打开对应的控制台才能看到错误)，所以特别注意这点。</p><p></p><p></p><h2 id="如何让popup页面不关闭">9.3. 如何让popup页面不关闭</h2><p></p><p></p><p>在对popup页面审查元素的时候popup会被强制打开无法关闭，只有控制台关闭了才可以关闭popup，原因很简单：如果popup关闭了控制台就没用了。这种方法在某些情况下很实用！</p><p></p><p></p><h2 id="不支持内联javascript的执行">9.4. 不支持内联JavaScript的执行</h2><p></p><p></p><p>也就是不支持将js直接写在html中，比如：</p><p></p><p><pre class="html"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">“btn”</span> <span class="hljs-attr">type</span>=<span class="hljs-string">“button”</span> <span class="hljs-attr">value</span>=<span class="hljs-string">“收藏”</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">“test()”</span>/&gt;</span></code></pre></p><p></p><p>报错如下：</p><p></p><p><pre><code class="hljs sql">Refused to <span class="hljs-keyword">execute</span> inline <span class="hljs-keyword">event</span> <span class="hljs-keyword">handler</span> because it violates the <span class="hljs-keyword">following</span> <span class="hljs-keyword">Content</span> <span class="hljs-keyword">Security</span> <span class="hljs-keyword">Policy</span> directive: <span class="hljs-string">“script-src ‘self’ blob: filesystem: chrome-extension-resource:”</span>. Either the <span class="hljs-string">‘unsafe-inline’</span> keyword, a <span class="hljs-keyword">hash</span> (<span class="hljs-string">‘sha256-…’</span>), <span class="hljs-keyword">or</span> a nonce (<span class="hljs-string">‘nonce-…’</span>) <span class="hljs-keyword">is</span> <span class="hljs-keyword">required</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">enable</span> inline execution.</code></pre></p><p></p><p>解决方法就是用JS绑定事件：</p><p></p><p><pre class="javascript"><code class="hljs">$(<span class="hljs-string">‘#btn’</span>).on(<span class="hljs-string">‘click’</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{alert(<span class="hljs-string">‘测试’</span>)});</code></pre></p><p></p><p>另外，对于A标签，这样写<code>href=”javascript:;”</code>然后用JS绑定事件虽然控制台会报错，但是不受影响，当然强迫症患者受不了的话只能写成<code>href=”#”</code>了。</p><p></p><p></p><p>如果这样写：</p><p></p><p><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">“javascript:;”</span> <span class="hljs-attr">id</span>=<span class="hljs-string">“get_secret”</span>&gt;</span>请求secret<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></code></pre></p><p></p><p>报错如下：</p><p></p><p><pre><code class="hljs sql">Refused to <span class="hljs-keyword">execute</span> JavaScript <span class="hljs-keyword">URL</span> because it violates the <span class="hljs-keyword">following</span> <span class="hljs-keyword">Content</span> <span class="hljs-keyword">Security</span> <span class="hljs-keyword">Policy</span> directive: <span class="hljs-string">“script-src ‘self’ blob: filesystem: chrome-extension-resource:”</span>. Either the <span class="hljs-string">‘unsafe-inline’</span> keyword, a <span class="hljs-keyword">hash</span> (<span class="hljs-string">‘sha256-…’</span>), <span class="hljs-keyword">or</span> a nonce (<span class="hljs-string">‘nonce-…’</span>) <span class="hljs-keyword">is</span> <span class="hljs-keyword">required</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">enable</span> inline execution.</code></pre></p><p></p><h2 id="注入css的时候必须小心">9.5. 注入CSS的时候必须小心</h2><p></p><p></p><p>由于通过<code>content_scripts</code>注入的CSS优先级非常高，几乎仅次于浏览器默认样式，稍不注意可能就会影响一些网站的展示效果，所以尽量不要写一些影响全局的样式。</p><p></p><p></p><p>之所以强调这个，是因为这个带来的问题非常隐蔽，不太容易找到，可能你正在写某个网页，昨天样式还是好好的，怎么今天就突然不行了？然后你辛辛苦苦找来找去，找了半天才发现竟然是因为插件里面的一个样式影响的！</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102324665-787100296.png"><p></p><p></p><h1 id="打包与发布">打包与发布</h1><p></p><p></p><p>打包的话直接在插件管理页有一个打包按钮：</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102349728-1968586800.png"><p></p><p></p><p>然后会生成一个<code>.crx</code>文件，要发布到Google应用商店的话需要先登录你的Google账号，然后花5个$注册为开发者，本人太穷，就懒得亲自验证了，有发布需求的自己去整吧。</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102401665-879882813.png"><p></p><p></p><h1 id="参考">参考</h1><p></p><p></p><h2 id="官方资料">11.1. 官方资料</h2><p></p><p></p><p>推荐查看官方文档，虽然是英文，但是全且新，国内的中文资料都比较旧（注意以下全部需要FQ）：</p><p></p><p><ul></ul></p><p><li><a href="https://developer.chrome.com/extensions" target="_blank">Chrome插件官方文档主页</a></li></p><p><li><a href="https://developer.chrome.com/extensions/samples" target="_blank">Chrome插件官方示例</a></li></p><p><li><a href="https://developer.chrome.com/extensions/manifest" target="_blank">manifest清单文件</a></li></p><p><li><a href="https://developer.chrome.com/extensions/permissions" target="_blank">permissions权限</a></li></p><p><li><a href="https://developer.chrome.com/extensions/api_index" target="_blank">chrome.xxx.api文档</a></li></p><p><li><a href="https://developer.chrome.com/extensions/match_patterns" target="_blank">模糊匹配规则语法详解</a></li><br></p><p></p><h2 id="第三方资料">11.2. 第三方资料</h2><p></p><p></p><p>部分中文资料，不是特别推荐：</p><p></p><p><ul></ul></p><p><li><a href="http://open.se.360.cn/open/extension_dev/overview.html" target="_blank">360安全浏览器开发文档</a></li></p><p><li><a href="http://open.chrome.360.cn/extension_dev/overview.html" target="_blank">360极速浏览器Chrome扩展开发文档</a></li></p><p><li><a href="http://www.cnblogs.com/champagne/p/" target="_blank">Chrome扩展开发极客系列博客</a></li><br></p><p></p><h1 id="附图">附图</h1><p></p><p></p><p>附图：Chrome高清png格式logo：</p><br><img src="https://images2015.cnblogs.com/blog/352797/201707/352797-20170711102416728-1289897384.png"><br><div id="MySignature" style="display: block;">个人网站：<a href="https://haoji.me/" target="_blank">https://haoji.me</a><br><br>github：<a href="https://github.com/sxei" target="_blank">https://github.com/sxei</a><br><br>博客园：<a href="http://www.cnblogs.com/liuxianan" target="_blank">http://www.cnblogs.com/liuxianan</a><br><br>copyright ©2012-2018 小茗同学<p></p><p></p><p style="color: #FF8301; margin-top: 20px">【转载文章务必保留出处和署名，谢谢！】</p></div><br>文章来源：<br>            <a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html" target="_blank" rel="noopener">【干货】Chrome插件(扩展)开发全攻略</a><p></p>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;写在前面&lt;/h1&gt;
&lt;p&gt;这篇文章来自于转载，作者花了许多时间编写，写的也很详细，也很辛苦，我已经在文章尾部标明，也感谢作者的分享，&lt;a id=&quot;cb_post_title_url&quot; class=&quot;postTitle2&quot; href=&quot;https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;这是文章原地址&lt;/a&gt;以下是作者原文：来源我花了将近一个多月的时间断断续续写下这篇博文，并精心写下完整demo，写博客的辛苦大家懂的，所以转载务必保留&lt;a href=&quot;http://blog.haoji.me/chrome-plugin-develop.html&quot; target=&quot;_blank&quot;&gt;出处&lt;/a&gt;。本文所有涉及到的大部分代码均在这个demo里面：&lt;a href=&quot;https://github.com/sxei/chrome-plugin-demo&quot; class=&quot;uri&quot; target=&quot;_blank&quot;&gt;https://github.com/sxei/chrome-plugin-demo&lt;/a&gt; ，大家可以直接下载下来运行。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
